–î–æ–±—Ä–µ üëç, –¥–∞–≤–∞–π—Ç–µ —Ä–æ–∑–∫–ª–∞–¥–µ–º–æ –∫—Ä–æ–∫ –∑–∞ –∫—Ä–æ–∫–æ–º, —è–∫ —Ü–µ –∑—Ä–æ–±–∏—Ç–∏ –≤ APEX.

---

## üîπ 1. –°—Ç–≤–æ—Ä—é—î–º–æ **Select List** –¥–ª—è –≤–∏–±–æ—Ä—É –∑–º—ñ–Ω–∏

–£ –≤–∞—à–æ–º—É —Ä–µ–≥—ñ–æ–Ω—ñ –¥–æ–¥–∞—î—Ç–µ **Item** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `P2_SHIFT_SELECT`) –∑ —Ç–∏–ø–æ–º **Select List**.

**SQL Query –¥–ª—è LOV** (List of Values):

```sql
SELECT SHIFT_CODE AS display_value, SHIFT_ID AS return_value
FROM SHIFTS
WHERE IS_ACTIVE = 'Y'
ORDER BY SHIFT_CODE
```

* `display_value` ‚Üí –±—É–¥–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏—Å—è –ª—ñ—Ç–µ—Ä–∞ (A, B, C).
* `return_value` ‚Üí —É —Ç–∞–±–ª–∏—Ü—é –≤—Å—Ç–∞–≤–ª—è—Ç–∏–º–µ—Ç—å—Å—è `SHIFT_ID`.

---

## üîπ 2. –ö–Ω–æ–ø–∫–∞ "–î–æ–¥–∞—Ç–∏"

–î–ª—è –∫–Ω–æ–ø–∫–∏ —Ä–æ–±–∏–º–æ **Process** (—Ç–∏–ø PL/SQL Code) –ø—ñ—Å–ª—è Submit.

–í–∞—à –æ–Ω–æ–≤–ª–µ–Ω–∏–π –∫–æ–¥ –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º `SHIFT_ID` –±—É–¥–µ —Ç–∞–∫–∏–º:

```plsql
BEGIN
  -- –í—Å—Ç–∞–≤–∫–∞ –¥–ª—è Group1
  IF :P2_GROUP1_CHECK = 'Y' THEN
    INSERT INTO SIGNATURERIGHTS (
      TASK_ID,
      USER_ID,
      POSITION_ID,
      DEPARTMENT_ID,
      UNIT_ID,
      SHIFT_ID,        -- üîπ –¥–æ–¥–∞–Ω–æ –Ω–æ–≤–µ –ø–æ–ª–µ
      STAGE_ID,
      CREATE_DATE
    ) VALUES (
      :P2_TASK_ID,
      :APP_USER,       -- –∞–±–æ —ñ–Ω—à–∏–π user_id
      :P2_POSITION,
      :P2_DEPARTMENT,
      :P2_UNIT,
      :P2_SHIFT_SELECT,  -- üîπ —Ç—É—Ç shift_id —ñ–∑ select list
      1,
      SYSDATE
    );
  END IF;

  -- –í—Å—Ç–∞–≤–∫–∞ –¥–ª—è Group2
  IF :P2_GROUP2_CHECK = 'Y' THEN
    INSERT INTO SIGNATURERIGHTS (
      TASK_ID,
      USER_ID,
      SHIFT_ID,        -- üîπ shift_id —Ç–∞–∫–æ–∂ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–¥–∞—Ç–∏
      STAGE_ID,
      CREATE_DATE
    ) VALUES (
      :P2_TASK_ID,
      :P2_NAME,        -- —Ç—É—Ç user_id
      :P2_SHIFT_SELECT,
      1,
      SYSDATE
    );
  END IF;

  -- –í—Å—Ç–∞–≤–∫–∞ –¥–ª—è Group3 (–∫–æ–ª–∏ shift –≥–æ–ª–æ–≤–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä)
  IF :P2_GROUP3_CHECK = 'Y' THEN
    INSERT INTO SIGNATURERIGHTS (
      TASK_ID,
      SHIFT_ID,        -- üîπ shift_id –≥–æ–ª–æ–≤–Ω–∏–π
      STAGE_ID,
      CREATE_DATE
    ) VALUES (
      :P2_TASK_ID,
      :P2_SHIFT_SELECT,
      1,
      SYSDATE
    );
  END IF;
END;
```

---

## üîπ 3. –ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏

* –£ –≤—Å—ñ—Ö –≤—Å—Ç–∞–≤–∫–∞—Ö –¥–æ–¥–∞—î–º–æ `SHIFT_ID`, —è–∫–∏–π –∑–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–Ω—è–º —ñ–∑ `:P2_SHIFT_SELECT`.
* –Ø–∫—â–æ —É –≤–∞—Å –ª–æ–≥—ñ–∫–∞ —Ä—ñ–∑–Ω–∞ –ø–æ –≥—Ä—É–ø–∞—Ö (–≤ –æ–¥–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É –ø–æ—Ç—Ä—ñ–±–Ω—ñ `USER_ID`, –≤ —ñ–Ω—à–æ–º—É –ª–∏—à–µ `SHIFT_ID`), –≤–∏ –≤–∂–µ —Ü–µ –≤—Ä–∞—Ö—É–≤–∞–ª–∏ —É–º–æ–≤–∞–º–∏ `IF`.
* –†–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞ –∫–æ–ª–æ–Ω–∫—É `SHIFT_ID` —É —Ç–∞–±–ª–∏—Ü—ñ `SIGNATURERIGHTS` –ø–æ—Å—Ç–∞–≤–∏—Ç–∏ **foreign key** –Ω–∞ `SHIFTS(SHIFT_ID)`, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ "—Å–º—ñ—Ç—Ç—è".

---

üëâ –•–æ—á–µ—Ç–µ, —è –∑—Ä–∞–∑—É –ø—ñ–¥–≥–æ—Ç—É—é SQL View, —è–∫–µ –±—É–¥–µ –∑‚Äô—î–¥–Ω—É–≤–∞—Ç–∏ `SIGNATURERIGHTS` –∑ `SHIFTS`, —â–æ–± —É –∑–≤—ñ—Ç—ñ –ø–æ–∫–∞–∑—É–≤–∞–ª–∞—Å—è –Ω–µ `SHIFT_ID`, –∞ –ª—ñ—Ç–µ—Ä–∞ `SHIFT_CODE`?
