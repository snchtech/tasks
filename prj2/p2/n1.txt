–¢–∞–∫, –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ **—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –∫–ª—é—á (UNIQUE constraint)** –∞–±–æ **—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–Ω–¥–µ–∫—Å**, —è–∫–∏–π –∑–∞–±–µ–∑–ø–µ—á–∏—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –ø–∞—Ä–∏ `USER_ID + NFC_ID`.
–†–æ–∑–¥—ñ–ª—é–≤–∞—á —É –¥–∞–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω ‚Äî Oracle –º–æ–∂–µ –Ω–∞–ø—Ä—è–º—É –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –ø–æ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó –¥–≤–æ—Ö –∫–æ–ª–æ–Ω–æ–∫.

### ‚úÖ –í–∞—Ä—ñ–∞–Ω—Ç 1 ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π UNIQUE constraint

```sql
ALTER TABLE USER_NFC
ADD CONSTRAINT UQ_USER_NFC_USERID_NFCID UNIQUE (USER_ID, NFC_ID);
```

üîπ –¶–µ–π –≤–∞—Ä—ñ–∞–Ω—Ç –∑–∞–±–µ–∑–ø–µ—á–∏—Ç—å:

* –∫–æ–∂–Ω–∞ –ø–∞—Ä–∞ `(USER_ID, NFC_ID)` –º–æ–∂–µ —ñ—Å–Ω—É–≤–∞—Ç–∏ –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑;
* –æ–∫—Ä–µ–º–æ `USER_ID` –∞–±–æ `NFC_ID` –º–æ–∂—É—Ç—å –ø–æ–≤—Ç–æ—Ä—é–≤–∞—Ç–∏—Å—è.

---

### ‚úÖ –í–∞—Ä—ñ–∞–Ω—Ç 2 ‚Äî —á–µ—Ä–µ–∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–Ω–¥–µ–∫—Å (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏)

```sql
CREATE UNIQUE INDEX UX_USER_NFC_USERID_NFCID 
ON USER_NFC (USER_ID, NFC_ID);
```

---

### üîß –Ø–∫—â–æ —Ç–∏ **—Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ —Ö–æ—á–µ—à ‚Äú—Ä–æ–∑–¥—ñ–ª—é–≤–∞—á‚Äù** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–∏ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å —Ç—Ä–µ–±–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –Ω–∞ –≤–∏—Ä–∞–∑—ñ), —Ç–æ–¥—ñ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–Ω–¥–µ–∫—Å –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–º—É –≤–∏—Ä–∞–∑—ñ:

```sql
CREATE UNIQUE INDEX UX_USER_NFC_COMBO
ON USER_NFC (USER_ID || '-' || NFC_ID);
```

‚ö†Ô∏è –ê–ª–µ —Ü–µ–π –ø—ñ–¥—Ö—ñ–¥ –∑–∞–∑–≤–∏—á–∞–π –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω ‚Äî –∫—Ä–∞—â–µ –∑–∞–ª–∏—à–∞—Ç–∏—Å—è –Ω–∞ –∫–ª–∞—Å–∏—á–Ω–æ–º—É –≤–∞—Ä—ñ–∞–Ω—Ç—ñ –∑ –¥–≤–æ–º–∞ –ø–æ–ª—è–º–∏, –±–æ:

* –≤—ñ–Ω –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ—à–∏–π;
* –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ç–æ—Ä–æ–º –ø—Ä–∏ `WHERE USER_ID = ... AND NFC_ID = ...`;
* –ø—Ä–æ—Å—Ç—ñ—à–µ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏.

---

### –ü—ñ–¥—Å—É–º–æ–∫:

–ù–∞–π–∫—Ä–∞—â–∏–π –≤–∏–±—ñ—Ä:

```sql
ALTER TABLE USER_NFC
ADD CONSTRAINT UQ_USER_NFC_USERID_NFCID UNIQUE (USER_ID, NFC_ID);
```

–•–æ—á–µ—à, —â–æ–± —è –ø–æ–∫–∞–∑–∞–≤, —è–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –≤–∂–µ —ñ—Å–Ω—É—î –¥—É–±–ª—ñ–∫–∞—Ç —É —Ç–∞–±–ª–∏—Ü—ñ –ø–µ—Ä–µ–¥ –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º —Ü—å–æ–≥–æ –æ–±–º–µ–∂–µ–Ω–Ω—è?
