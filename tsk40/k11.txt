–ö–ª–∞—Å–Ω–µ —É—Ç–æ—á–Ω–µ–Ω–Ω—è üëå ‚Äî —Ü–µ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ —É **Dynamic Action ‚Üí Dialog Closed** (–ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–∫—Ä–∏–≤ –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –≤–∏–±–æ—Ä—É –∑–º—ñ–Ω–∏).

---

## üîπ –ö—Ä–æ–∫–∏

### 1. –°—Ç–≤–æ—Ä—é—î–º–æ Dynamic Action ‚Üí Event = *Dialog Closed* (–Ω–∞ Home Page / Global Page)

* Condition (JS Expression):

  ```js
  this.data.dialogPageId == 6   // —è–∫—â–æ –≤–∞—à–∞ –º–æ–¥–∞–ª–∫–∞ ‚Äî —Å—Ç–æ—Ä—ñ–Ω–∫–∞ 6
  ```

---

### 2. –ü–µ—Ä—à–∞ Action ‚Üí Execute PL/SQL Code

–í–∏—Ç—è–≥—É—î–º–æ –¥–∞–Ω—ñ –∑–º—ñ–Ω–∏ –∑ —Ç–∞–±–ª–∏—Ü—ñ (–∞–±–æ –∑ session state):

```plsql
DECLARE
    v_info VARCHAR2(200);
BEGIN
    IF :P0_SHIFT_SYMBOL IS NOT NULL AND :P0_SHIFT_NUMBER IS NOT NULL THEN
        SELECT '–ó–º—ñ–Ω–∞ ' || ss.SYMBOL_CODE || 
               ' - ‚Ññ' || sn.SHIFT_NUMBER_ID || 
               ' (' || TO_CHAR(dsn.TIME_START, 'HH24:MI') || ' - ' || TO_CHAR(dsn.TIME_END, 'HH24:MI') || ')'
        INTO v_info
        FROM SHIFT_SYMBOL ss
        JOIN SHIFT_NUMBER sn ON sn.SHIFT_NUMBER_ID = :P0_SHIFT_NUMBER
        JOIN DEPARTMENT_SHIFT_NUMBER dsn 
          ON dsn.SHIFT_NUMBER_ID = sn.SHIFT_NUMBER_ID
         AND dsn.DEPARTMENT_ID = :P0_DEPARTMENT_ID
        WHERE ss.SYMBOL_ID = :P0_SHIFT_SYMBOL;

        :P0_SHIFT_INFO := v_info;
    END IF;
END;
```

üëâ Items to Return: `P0_SHIFT_INFO`.

---

### 3. –î—Ä—É–≥–∞ Action ‚Üí Execute JavaScript Code

–ü—Ä–∏–±–∏—Ä–∞—î–º–æ —á–µ—Ä–≤–æ–Ω—É —Ä–∞–º–∫—É —ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:

```js
$("#P0_SHIFT_INFO").removeClass("shift-required");
$("#shift-warning").remove();   // –≤–∏–¥–∞–ª—è—î —Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
```

---

## üîπ –ü–æ–≤–µ–¥—ñ–Ω–∫–∞

1. –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–∫—Ä–∏–≤ –º–æ–¥–∞–ª–∫—É **–±–µ–∑ –≤–∏–±–æ—Ä—É** ‚Äî –Ω–∞ Home Page –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —Ä–∞–º–∫–∞ —ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
2. –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–∫—Ä–∏–≤ –º–æ–¥–∞–ª–∫—É **–ø—ñ—Å–ª—è –≤–∏–±–æ—Ä—É –∑–º—ñ–Ω–∏**:

   * –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è PL/SQL ‚Üí –æ–Ω–æ–≤–ª—é—î `P0_SHIFT_INFO`;
   * JS –ø—Ä–∏–±–∏—Ä–∞—î —á–µ—Ä–≤–æ–Ω—É —Ä–∞–º–∫—É —Ç–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

---

‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –≤—Å–µ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ ‚Äî –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è —î, –¥–æ–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –≤–∏–±–µ—Ä–µ –∑–º—ñ–Ω—É, —ñ –∑–Ω–∏–∫–∞—î –æ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –≤–∏–±–æ—Ä—É.

---

–•–æ—á–µ—Ç–µ, —è –ø–æ–∫–∞–∂—É –ø—Ä–∏–∫–ª–∞–¥ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º **`$s()`** (APEX JavaScript API) –¥–ª—è –ø—Ä—è–º–æ—ó —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è `P0_SHIFT_INFO` –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ PL/SQL-–∑–∞–ø–∏—Ç—É?
