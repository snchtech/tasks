–¢–æ—á–Ω–æ üëå, –≤–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—ñ–¥–º—ñ—Ç–∏–ª–∏ –∫—ñ–ª—å–∫–∞ –º–æ–º–µ–Ω—Ç—ñ–≤:

1. **Dynamic Action –º–∞—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—å —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —î —Ä–æ–ª—å `shift_personal`**.
   –¶–µ –∫—Ä–∞—â–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞ **Page 0 ‚Üí Page Load DA**.

2. **–†–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞–ø—Ä—è–º—É –Ω–∞ –≥–æ–ª–æ–≤–Ω—É –∑ Page 0** —Å–ø—Ä–∞–≤–¥—ñ –Ω–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å, –±–æ —Ç–æ–¥—ñ –Ω–µ –≤—Å—Ç–∏–≥–Ω—É—Ç—å –≤—ñ–¥–ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤—Å—ñ —ñ–Ω—à—ñ Global –ø—Ä–æ—Ü–µ—Å–∏.
   –õ–æ–≥—ñ–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞ —Ç–∞–∫–∞:

   * –∑–∞–≤–∂–¥–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ **Page 0**,
   * –∑–∞–≤–∂–¥–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –Ω–∞ Home (Page 1),
   * –∞–ª–µ –≤–∂–µ –Ω–∞ Home –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î –¥–∞–Ω—ñ –¥–ª—è –∑–º—ñ–Ω–∏, —ñ —è–∫—â–æ –Ω–µ–º–∞—î ‚Üí –≤—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ (Page 6).

3. –©–æ–± –∑—Ä–æ–±–∏—Ç–∏ `apex.navigation.redirect()` –Ω–∞ –º–æ–¥–∞–ª—å–Ω–µ ‚Äî –¥—ñ–π—Å–Ω–æ –Ω–∞–π–∫—Ä–∞—â–µ —á–µ—Ä–µ–∑ `APEX_PAGE.GET_URL` –∑ PL/SQL —É DA **Server-side**, –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ JS.

---

## üîπ –Ø–∫ —Ü–µ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏

### 1. Page 0 (Global Page)

* Dynamic Action ‚Üí **Page Load**
* Server-side condition:

  ```plsql
  APEX_ACL.HAS_USER_ROLE(:APP_ID, :APP_USER, 'shift_personal') = 'Y'
  ```

  (—Ç–æ–±—Ç–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ª–∏—à–µ —è–∫—â–æ —î —Ä–æ–ª—å `shift_personal`).
* –î—ñ—è ‚Üí **Execute PL/SQL Code** (–≤–∞—à –∫–æ–¥ –≤–∏–±—ñ—Ä–∫–∏ –∑ `SHIFT_PERSONAL_LOGGER`).
* Items to Return: `P0_SHIFT_SYMBOL, P0_SHIFT_NUMBER, P0_SHIFT_START, P0_SHIFT_END`.

üëâ –ù–∞ —Ü—å–æ–º—É –µ—Ç–∞–ø—ñ –º–∏ —Ç—ñ–ª—å–∫–∏ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –¥–∞–Ω—ñ, —Ä–µ–¥—ñ—Ä–µ–∫—Ç—É –Ω–µ —Ä–æ–±–∏–º–æ.

---

### 2. Page 1 (Home Page)

* Dynamic Action ‚Üí **Page Load**
* Server-side Action (PL/SQL):

  ```plsql
  DECLARE
      l_url VARCHAR2(4000);
  BEGIN
      -- –§–æ—Ä–º—É—î–º–æ URL –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞
      l_url := APEX_PAGE.GET_URL(
                   p_page   => 6,  -- –≤–∞—à–∞ –º–æ–¥–∞–ª—å–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ "–í–∏–±–µ—Ä—ñ—Ç—å –∑–º—ñ–Ω—É —ñ —á–∞—Å"
                   p_items  => 'P6_TAB_NO,P6_DEPARTMENT_ID,P6_POSITION_ID',
                   p_values => :P0_TAB_NO || ',' || :P0_DEPARTMENT_ID || ',' || :P0_POSITION_ID
               );
      :P1_MODAL_URL := l_url;
  END;
  ```
* Items to Return: `P1_MODAL_URL` (—Å—Ç–≤–æ—Ä—ñ—Ç—å hidden item –Ω–∞ Home Page).

---

### 3. –¢–æ–π —Å–∞–º–∏–π DA ‚Üí –¥—Ä—É–≥–∞ Action ‚Üí Execute JavaScript Code

```js
if (!$v("P0_SHIFT_SYMBOL") || !$v("P0_SHIFT_NUMBER")) {
    // –Ø–∫—â–æ –∑–º—ñ–Ω–∞ –Ω–µ –∑–∞–¥–∞–Ω–∞ ‚Üí –≤—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ –º–æ–¥–∞–ª—å–Ω–µ
    apex.navigation.redirect($v("P1_MODAL_URL"));
} else {
    // –Ø–∫—â–æ –≤—Å–µ —î ‚Üí –Ω—ñ—á–æ–≥–æ –Ω–µ —Ä–æ–±–∏–º–æ
}
```

---

## üîπ –ü–æ–≤–µ–¥—ñ–Ω–∫–∞

1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞—Ö–æ–¥–∏—Ç—å.
2. Page 0 –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ä–æ–ª—å `shift_personal`. –Ø–∫—â–æ –Ω–µ–º–∞ ‚Üí –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –¥–∞–ª—ñ.
3. –Ø–∫—â–æ —î —Ä–æ–ª—å ‚Äî –Ω–∞ Page 0 –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ñ item-–∏ (`P0_SHIFT_*`) –∑ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –∑–∞–ø–∏—Å—É –ª–æ–≥–≥–µ—Ä–∞.
4. –ù–∞ Home Page (Page 1):

   * –Ø–∫—â–æ item-–∏ –ø—É—Å—Ç—ñ ‚Üí –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –º–æ–¥–∞–ª—å–Ω–∞ (Page 6).
   * –Ø–∫—â–æ item-–∏ –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ ‚Üí –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–¥—Ä–∞–∑—É –±–∞—á–∏—Ç—å –¥–æ–º–∞—à–Ω—é.

---

‚úÖ –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ:

* Global Page –∑–∞–≤–∂–¥–∏ –≤—ñ–¥–ø—Ä–∞—Ü—å–æ–≤—É—î –ø–æ–≤–Ω—ñ—Å—Ç—é.
* –î–ª—è `shift_personal` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è —Ñ–æ—Ä–º–∞, —è–∫—â–æ –∑–º—ñ–Ω–∞ –Ω–µ –∑–∞–¥–∞–Ω–∞.
* –Ø–∫—â–æ –∑–º—ñ–Ω–∞ –≤–∂–µ —î ‚Äî –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ—Ç—Ä–∞–ø–ª—è—î –Ω–∞–ø—Ä—è–º—É –Ω–∞ Home Page.

---

–•–æ—á–µ—Ç–µ, —è —â–µ –∑—Ä–æ–±–ª—é –≤–∞—Ä—ñ–∞–Ω—Ç, –¥–µ –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è **—á–µ—Ä–µ–∑ `apex.navigation.dialog()`**, –∞ –Ω–µ redirect (—Ç–æ–±—Ç–æ –ø—Ä—è–º–æ —è–∫ –¥—ñ–∞–ª–æ–≥ –ø–æ–≤–µ—Ä—Ö Home Page)?
