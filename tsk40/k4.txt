–ê–≥–∞, —Ç—É—Ç –ø—Ä–æ–±–ª–µ–º–∞ —É —Ü—ñ–π —á–∞—Å—Ç–∏–Ω—ñ:

```sql
CAST(TO_CHAR(TIME_START, 'HH24:MI:SS') AS INTERVAL DAY TO SECOND)
```

üëâ `TO_CHAR` –ø–æ–≤–µ—Ä—Ç–∞—î —Ç–µ–∫—Å—Ç, –∞ `CAST` –≤ Oracle –Ω–µ –≤–º—ñ—î –Ω–∞–ø—Ä—è–º—É –∫–∞—Å—Ç–∏—Ç–∏ —Å—Ç—Ä–æ–∫—É —É `INTERVAL`.
–ß–µ—Ä–µ–∑ —Ü–µ –π –æ—Ç—Ä–∏–º—É—î—Ç–µ –ø–æ–º–∏–ª–∫—É **"not a valid interval"**.

---

## üîπ –ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç

–£ –≤–∞—Å —É —Ç–∞–±–ª–∏—Ü—ñ `DEPARTMENT_SHIFT_NUMBER.TIME_START` —ñ `TIME_END` (—è–∫ —è –∑—Ä–æ–∑—É–º—ñ–≤) –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ **—á–∞—Å** (—Ç–∏–ø `DATE` —á–∏ `TIMESTAMP`, –¥–µ –¥–∞—Ç–∞ –º–æ–∂–µ –±—É—Ç–∏ 01.01.1900).
–©–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ "—Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—é –¥–∞—Ç—É + —á–∞—Å", —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏ —Ç–∞–∫:

```sql
SELECT TRUNC(SYSDATE) + (TIME_START - TRUNC(TIME_START)),
       TRUNC(SYSDATE) + (TIME_END   - TRUNC(TIME_END))
INTO   v_shift_start, v_shift_end
FROM   DEPARTMENT_SHIFT_NUMBER
WHERE  DEPARTMENT_ID   = :P0_DEPARTMENT_ID
  AND  SHIFT_NUMBER_ID = :P1_SHIFT_NUMBER;
```

---

## üîπ –ß–æ–º—É —Ü–µ –ø—Ä–∞—Ü—é—î

* `TIME_START - TRUNC(TIME_START)` ‚Üí –∑–∞–ª–∏—à–∞—î —Ç—ñ–ª—å–∫–∏ —á–∞—Å–æ–≤—É —á–∞—Å—Ç–∏–Ω—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `06:00:00`).
* `TRUNC(SYSDATE)` ‚Üí —Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—è –¥–∞—Ç–∞ –æ 00:00:00.
* –î–æ–¥–∞—é—á–∏ –æ–¥–Ω–µ –¥–æ —ñ–Ω—à–æ–≥–æ ‚Üí –æ—Ç—Ä–∏–º—É—î–º–æ "—Å—å–æ–≥–æ–¥–Ω—ñ –æ 06:00".

---

## üîπ –Ø–∫—â–æ `TIME_END` –º–æ–∂–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–∏ —á–µ—Ä–µ–∑ –ø—ñ–≤–Ω—ñ—á

–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–º—ñ–Ω–∞ 23:00 ‚Äì 07:00. –¢–æ–¥—ñ —Ç—Ä–µ–±–∞ –¥–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É:

```sql
SELECT TRUNC(SYSDATE) + (TIME_START - TRUNC(TIME_START)),
       CASE 
           WHEN TIME_END < TIME_START 
           THEN TRUNC(SYSDATE+1) + (TIME_END - TRUNC(TIME_END))
           ELSE TRUNC(SYSDATE)   + (TIME_END - TRUNC(TIME_END))
       END
INTO   v_shift_start, v_shift_end
FROM   DEPARTMENT_SHIFT_NUMBER
WHERE  DEPARTMENT_ID   = :P0_DEPARTMENT_ID
  AND  SHIFT_NUMBER_ID = :P1_SHIFT_NUMBER;
```

---

‚úÖ –¢–∞–∫–∏–º —á–∏–Ω–æ–º –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –∑–∞–≤–∂–¥–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ `v_shift_start` —ñ `v_shift_end` –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ—ó –¥–æ–±–∏.

---

–•–æ—á–µ—Ç–µ, —è –æ–¥—Ä–∞–∑—É –¥–∞–º –≥–æ—Ç–æ–≤—É —Ñ—É–Ω–∫—Ü—ñ—é `GET_SHIFT_INTERVAL(p_department_id, p_shift_number_id)` —è–∫–∞ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏–º–µ `SHIFT_START` —ñ `SHIFT_END` ‚Äî —â–æ–± –Ω–µ –¥—É–±–ª—é–≤–∞—Ç–∏ —Ü–µ–π –∫–æ–¥ —É –∫—ñ–ª—å–∫–æ—Ö –º—ñ—Å—Ü—è—Ö?
