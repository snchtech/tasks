–ß—É–¥–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è üí™
–¢–∏ —Ö–æ—á–µ—à, —â–æ–± **—É—Å—ñ —á–µ–∫–±–æ–∫—Å–∏** —É –≥—Ä—É–ø–∞—Ö `P_CHECKBOX_DEPARTMENT` —ñ `P_CHECKBOX_UNIT` –±—É–ª–∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–º—ñ—á–µ–Ω—ñ** –ø—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ (—Ç–æ–±—Ç–æ –≤—Å—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –≤–∏–±—Ä–∞–Ω—ñ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º).

–£ Oracle APEX —Ü–µ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ **—á–∏—Å—Ç–æ SQL-–æ–º –∞–±–æ —á–µ—Ä–µ–∑ Dynamic Action** ‚Äî –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, –∑–≤—ñ–¥–∫–∏ LOV –¥–ª—è —Ü–∏—Ö –≥—Ä—É–ø –±–µ—Ä–µ—Ç—å—Å—è.

---

## üîπ –í–ê–†–Ü–ê–ù–¢ 1. –ß–µ—Ä–µ–∑ *Default Value SQL Query* (–Ω–∞–π—á–∏—Å—Ç—ñ—à–µ —Ä—ñ—à–µ–Ω–Ω—è)

### üîß –ö—Ä–æ–∫ 1:

–ü–µ—Ä–µ–π–¥–∏ –¥–æ Item ‚Üí `P_CHECKBOX_DEPARTMENT`

* **Type:** Checkbox Group
* **List of Values:** (—Ç–≤—ñ–π LOV SQL, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥)

  ```sql
  SELECT d.name AS display_value,
         d.id   AS return_value
  FROM departments d
  WHERE d.date_end IS NULL
  ORDER BY d.name
  ```

### üîß –ö—Ä–æ–∫ 2:

–£ –ø–æ–ª—ñ **Default ‚Üí Type = SQL Query (returning colon-delimited list)**
–≤—Å—Ç–∞–≤:

```sql
SELECT LISTAGG(id, ':') 
       WITHIN GROUP (ORDER BY id)
FROM departments
WHERE date_end IS NULL;
```

‚úÖ –¶–µ –ø–æ–≤–µ—Ä–Ω–µ —Ä—è–¥–æ–∫ —Ç–∏–ø—É `1:2:3:4` ‚Äî —ñ –≤—Å—ñ —á–µ–∫–±–æ–∫—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–º—ñ—Ç—è—Ç—å—Å—è.

---

### üîß –ö—Ä–æ–∫ 3:

–ó—Ä–æ–±–∏ —Ç–µ –∂ —Å–∞–º–µ –¥–ª—è `P_CHECKBOX_UNIT`:

```sql
SELECT LISTAGG(id, ':')
       WITHIN GROUP (ORDER BY id)
FROM units
WHERE date_end IS NULL;
```

---

### üîß –ö—Ä–æ–∫ 4:

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è, —â–æ:

* —É –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è—Ö Item ‚Üí **Value Separator** = `:`
* —ñ `Display Extra Values` = *Yes*
  (—â–æ–± APEX –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–≤ –∫—ñ–ª—å–∫–∞ –∑–Ω–∞—á–µ–Ω—å)

---

## üîπ –í–ê–†–Ü–ê–ù–¢ 2. –ß–µ—Ä–µ–∑ PL/SQL Process (Before Header)

–Ø–∫—â–æ LOV –¥–∏–Ω–∞–º—ñ—á–Ω–µ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ñ—ñ–ª—å—Ç—Ä—É—î—Ç—å—Å—è –∑–∞ —Ä–æ–ª–ª—é —á–∏ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞)
‚Äî –º–æ–∂–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤–∏–±—ñ—Ä **—É –ø—Ä–æ—Ü–µ—Å—ñ Before Header**:

```plsql
BEGIN
  SELECT LISTAGG(id, ':') 
         WITHIN GROUP (ORDER BY id)
  INTO :P_CHECKBOX_DEPARTMENT
  FROM departments
  WHERE date_end IS NULL;

  SELECT LISTAGG(id, ':') 
         WITHIN GROUP (ORDER BY id)
  INTO :P_CHECKBOX_UNIT
  FROM units
  WHERE date_end IS NULL;
END;
```

‚úÖ –£—Å—ñ —á–µ–∫–±–æ–∫—Å–∏ –±—É–¥—É—Ç—å –∞–∫—Ç–∏–≤–æ–≤–∞–Ω—ñ —â–µ –¥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É —Å—Ç–æ—Ä—ñ–Ω–∫–∏.

---

## üîπ –í–ê–†–Ü–ê–ù–¢ 3. –ß–µ—Ä–µ–∑ JavaScript (–Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ)

–Ø–∫—â–æ —Ç–æ–±—ñ —Ç—Ä–µ–±–∞ —Ä–æ–±–∏—Ç–∏ —Ü–µ **–¥–∏–Ω–∞–º—ñ—á–Ω–æ –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–∏ —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ä–º—É—î—Ç—å—Å—è AJAX-–æ–º):

```js
apex.jQuery("input[name='P_CHECKBOX_DEPARTMENT']").prop("checked", true);
apex.jQuery("input[name='P_CHECKBOX_UNIT']").prop("checked", true);

// –æ–Ω–æ–≤–∏—Ç–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è APEX items
apex.item("P_CHECKBOX_DEPARTMENT").refresh();
apex.item("P_CHECKBOX_UNIT").refresh();
```

–ú–æ–∂–Ω–∞ –≤—Å—Ç–∞–≤–∏—Ç–∏ —Ü–µ–π –∫–æ–¥ —É –ø–æ–¥—ñ—é **After Page Load** –∞–±–æ –≤ Dynamic Action ‚ÄúExecute JavaScript Code‚Äù.

---

## üîπ üîç –†–µ–∑—é–º–µ

| –ú–µ—Ç–æ–¥                     | –ö–æ–ª–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏                                  | –ü–µ—Ä–µ–≤–∞–≥–∏                             |
| ------------------------- | --------------------------------------------------- | ------------------------------------ |
| **Default SQL Query**     | LOV —Å—Ç–∞—Ç–∏—á–Ω–∏–π –∞–±–æ —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π                        | –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ, –±–µ–∑ –∫–æ–¥—É                |
| **PL/SQL Before Header**  | LOV –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É (—Ä–æ–ª—å, –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç —Ç–æ—â–æ) | –ü–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å                      |
| **JavaScript After Load** | LOV –¥–∏–Ω–∞–º—ñ—á–Ω–∏–π –∞–±–æ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è AJAX-–æ–º              | –í—ñ–∑—É–∞–ª—å–Ω–æ –∞–∫—Ç–∏–≤—É—î –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è |

---

‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥—É—é**:
—è–∫—â–æ —á–µ–∫–±–æ–∫—Å–∏ –Ω–µ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —á–∏ —É–º–æ–≤ ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π **–≤–∞—Ä—ñ–∞–Ω—Ç 1 (Default SQL Query)** ‚Äî –≤—ñ–Ω –Ω–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–∏–π —ñ –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤.

---

–•–æ—á–µ—à, —â–æ–± —è –ø–æ–∫–∞–∑–∞–≤, —è–∫ –¥–æ–¥–∞—Ç–∏ –¥–æ —Ü–∏—Ö —á–µ–∫–±–æ–∫—Å—ñ–≤ **–∫–Ω–æ–ø–∫—É ‚Äú–í–∏–±—Ä–∞—Ç–∏ –≤—Å—ñ / –ó–Ω—è—Ç–∏ –≤—Å—ñ‚Äù** (toggle all)?
