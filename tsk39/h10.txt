–ß—É–¥–æ–≤–æ üëç
–£ APEX —î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –¥–ª—è —Ü—å–æ–≥–æ ‚Äì **Dynamic Action ‚Üí After Dialog Closed**.
–û–ø–∏—à—É –ø–æ–∫—Ä–æ–∫–æ–≤–æ, —è–∫ –∑—Ä–æ–±–∏—Ç–∏ –¥–ª—è –≤–∞—à–æ–≥–æ `P0_SHIFT_INFO`.

---

## üîπ 1. –ù–∞ Global Page —Å—Ç–≤–æ—Ä—ñ—Ç—å Dynamic Action

* **Event**: `Dialog Closed`.
* **Selection Type**: Item(s).
* **Item**: `P0_SHIFT_INFO` (–∞–±–æ –º–æ–∂–Ω–∞ –ø—Ä–æ—Å—Ç–æ `Page`).

---

## üîπ 2. –£–º–æ–≤–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (optional)

–©–æ–± –≤—ñ–¥—Å–ª—ñ–¥–∫–æ–≤—É–≤–∞—Ç–∏ —Å–∞–º–µ –≤–∞—à—É –º–æ–¥–∞–ª—å–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑ ID = 50):

* **When Condition** ‚Üí JavaScript Expression:

  ```js
  this.data.dialogPageId == 50
  ```

---

## üîπ 3. –î–æ–¥–∞–π—Ç–µ Action ‚Üí Execute PL/SQL Code

–ö–æ–¥ —Ç–æ–π —Å–∞–º–∏–π, —â–æ –º–∏ –ø–∏—Å–∞–ª–∏ –¥–ª—è —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É:

```plsql
DECLARE
    v_info VARCHAR2(200);
BEGIN
    IF :P0_SHIFT_SYMBOL IS NOT NULL AND :P0_SHIFT_NUMBER IS NOT NULL THEN
        SELECT '–ó–º—ñ–Ω–∞ ' || ss.SYMBOL_CODE || 
               ' - ‚Ññ' || sn.SHIFT_NUMBER_ID || 
               ' (' || TO_CHAR(dsn.TIME_START, 'HH24:MI') || ' - ' || TO_CHAR(dsn.TIME_END, 'HH24:MI') || ')'
        INTO v_info
        FROM SHIFT_SYMBOL ss
        JOIN SHIFT_NUMBER sn ON sn.SHIFT_NUMBER_ID = :P0_SHIFT_NUMBER
        JOIN DEPARTMENT_SHIFT_NUMBER dsn 
          ON dsn.SHIFT_NUMBER_ID = sn.SHIFT_NUMBER_ID
         AND dsn.DEPARTMENT_ID = :P0_DEPARTMENT_ID
        WHERE ss.SYMBOL_ID = :P0_SHIFT_SYMBOL;
        
        :P0_SHIFT_INFO := v_info;
    ELSE
        :P0_SHIFT_INFO := '–ó–º—ñ–Ω—É –Ω–µ –∑–∞–¥–∞–Ω–æ';
    END IF;
END;
```

üëâ –£ –ø–æ–ª—ñ **Items to Return** –≤–∫–∞–∂—ñ—Ç—å: `P0_SHIFT_INFO`.

---

## üîπ 4. –î–æ–¥–∞–π—Ç–µ Action ‚Üí Refresh

* **Selection Type**: Item(s).
* **Item**: `P0_SHIFT_INFO`.

---

## üîπ 5. –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–∫—Ä–∏–≤ –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —ñ –≤–∏–±—Ä–∞–≤ –∑–º—ñ–Ω—É.
2. –ü—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ ‚Üí –º–æ–¥–∞–ª—å–Ω–µ –∑–∞–∫—Ä–∏–≤–∞—î—Ç—å—Å—è.
3. `Dialog Closed` —Å–ø—Ä–∞—Ü—å–æ–≤—É—î.
4. PL/SQL –æ–Ω–æ–≤–ª—é—î –≥–ª–æ–±–∞–ª—å–Ω—ñ item-–∏.
5. `P0_SHIFT_INFO` —Ä–µ—Ñ—Ä–µ—à–∏—Ç—å—Å—è –π –ø–æ–∫–∞–∑—É—î –æ–Ω–æ–≤–ª–µ–Ω–∏–π —Ç–µ–∫—Å—Ç.

---

‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ø—ñ—Å–ª—è –∑–∞–∫—Ä–∏—Ç—Ç—è –¥—ñ–∞–ª–æ–≥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥—Ä–∞–∑—É –±–∞—á–∏—Ç—å —É –≥–ª–æ–±–∞–ª—å–Ω–æ–º—É –ø–æ–ª—ñ `P0_SHIFT_INFO` –æ–Ω–æ–≤–ª–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è:

```
–ó–º—ñ–Ω–∞ –ê ‚Äì ‚Ññ1 (06:00 - 13:00)
```

–∞–±–æ, —è–∫—â–æ –≤—ñ–Ω –Ω—ñ—á–æ–≥–æ –Ω–µ –≤–∏–±—Ä–∞–≤ ‚Üí

```
–ó–º—ñ–Ω—É –Ω–µ –∑–∞–¥–∞–Ω–æ
```

---

–•–æ—á–µ—Ç–µ, —è —â–µ –∑—Ä–æ–±–ª—é –≤–∞—Ä—ñ–∞–Ω—Ç –∑ **JavaScript-only refresh** (—Ç–æ–±—Ç–æ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ PL/SQL-–∑–∞–ø–∏—Ç—É, –∞ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –∑–Ω–∞—á–µ–Ω—å, —è–∫—ñ –ø–æ–≤–µ—Ä–Ω—É–ª–∏—Å—å —ñ–∑ `RETURNING INTO` —É –≤–∞—à –ø—Ä–æ—Ü–µ—Å Insert)?
