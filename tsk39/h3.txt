–ì–∞—Ä–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è üëç

–î–∞–≤–∞–π—Ç–µ —Ä–æ–∑–±–µ—Ä–µ–º–æ –≤–∞—Ä—ñ–∞–Ω—Ç–∏.

---

## üîπ 1. **–ù–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ `TIME_START/TIME_END` —É `SHIFT_PERSONAL_LOGGER`, —è–∫—â–æ —î `SHIFT_NUMBER_ID + DEPARTMENT_ID`**

–¢–æ–¥—ñ –≤–∏ –∑–∞–≤–∂–¥–∏ –º–æ–∂–µ—Ç–µ –≤–∏—Ç—è–≥–Ω—É—Ç–∏ –≥–æ–¥–∏–Ω–∏ –∑ —Ç–∞–±–ª–∏—Ü—ñ `DEPARTMENT_SHIFT_NUMBER`.
**–ü–ª—é—Å–∏:**

* –Ω–µ–º–∞—î –¥—É–±–ª—é–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö ‚Üí —è–∫—â–æ –≤–∏ –∑–º—ñ–Ω–∏—Ç–µ –≥–æ–¥–∏–Ω–∏ –≤ –¥–æ–≤—ñ–¥–Ω–∏–∫—É, –∑–≤—ñ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ç—è–≥–Ω–µ –∞–∫—Ç—É–∞–ª—å–Ω—ñ –≥–æ–¥–∏–Ω–∏.
* –º–µ–Ω—à–µ —à–∞–Ω—Å—ñ–≤ –Ω–∞ —Ä–æ–∑—Å–∏–Ω—Ö—Ä–æ–Ω.

**–ú—ñ–Ω—É—Å–∏:**

* —ñ—Å—Ç–æ—Ä—ñ—è –º–æ–∂–µ "–∑–ª–∞–º–∞—Ç–∏—Å—è": —è–∫—â–æ –≤–∏ –∑–º—ñ–Ω–∏—Ç–µ –≥–æ–¥–∏–Ω–∏ –¥–ª—è –∑–º—ñ–Ω–∏ **–∑–∞–¥–Ω—ñ–º —á–∏—Å–ª–æ–º**, —Ç–æ —Å—Ç–∞—Ä—ñ –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–≥–µ—Ä—ñ —Ç–µ–∂ –±—É–¥—É—Ç—å –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –Ω–æ–≤—ñ –≥–æ–¥–∏–Ω–∏, –∞ –Ω–µ —Ç—ñ, —è–∫—ñ –¥—ñ—è–ª–∏ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—Ö–æ–¥—É.
* –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π `JOIN` –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –∑–≤–µ—Ä–Ω–µ–Ω–Ω—ñ.

---

## üîπ 2. **–ó–±–µ—Ä—ñ–≥–∞—Ç–∏ `TIME_START/TIME_END` –∑–∞–≤–∂–¥–∏** (–Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —î `SHIFT_NUMBER_ID + DEPARTMENT_ID`)

–¢–æ–¥—ñ –≤–∏ —Ñ–∞–∫—Ç–∏—á–Ω–æ —Ñ—ñ–∫—Å—É—î—Ç–µ ¬´–∑–ª—ñ–ø–æ–∫¬ª –¥–æ–≤—ñ–¥–Ω–∏–∫–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—Ö–æ–¥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
**–ü–ª—é—Å–∏:**

* —ñ—Å—Ç–æ—Ä–∏—á–Ω—ñ –¥–∞–Ω—ñ –∑–∞–≤–∂–¥–∏ –∫–æ—Ä–µ–∫—Ç–Ω—ñ ‚Äî –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Ä–æ–∑–∫–ª–∞–¥ –∑–º—ñ–Ω–∏—Ç—å—Å—è, —Å—Ç–∞—Ä—ñ –ª–æ–≥–∏ –∑–∞–ª–∏—à–∞—Ç—å—Å—è –ø—Ä–∞–≤–¥–∏–≤–∏–º–∏.
* –ø—Ä–æ—Å—Ç—ñ—à–µ —Ä–æ–±–∏—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É "—á–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞—Ä–∞–∑ –Ω–∞ –∑–º—ñ–Ω—ñ" ‚Üí –Ω–µ —Ç—Ä–µ–±–∞ –π—Ç–∏ –≤ —ñ–Ω—à—ñ —Ç–∞–±–ª–∏—Ü—ñ.
* –ª–µ–≥–∫–æ –∑—Ä–æ–±–∏—Ç–∏ –∑–≤—ñ—Ç ¬´—Ö—Ç–æ –±—É–≤ –Ω–∞ –∑–º—ñ–Ω—ñ –≤—ñ–¥‚Ä¶ –¥–æ‚Ä¶¬ª –±–µ–∑ —Å–∫–ª–∞–¥–Ω–∏—Ö JOIN.

**–ú—ñ–Ω—É—Å–∏:**

* —Ç—Ä–æ—Ö–∏ –±—ñ–ª—å—à–µ –º—ñ—Å—Ü—è –≤ —Ç–∞–±–ª–∏—Ü—ñ.
* –¥—É–±–ª—é–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ –¥–æ–≤—ñ–¥–Ω–∏–∫–∞ (–∞–ª–µ —Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ –¥–ª—è –ª–æ–≥—ñ–≤).

---

## üîπ Best practice (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è)

–û—Å–∫—ñ–ª—å–∫–∏ —Ü–µ **–ª–æ–≥—É–≤–∞–Ω–Ω—è**, –∞ –Ω–µ –¥–æ–≤—ñ–¥–Ω–∏–∫, **–∫—Ä–∞—â–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ `TIME_START` —ñ `TIME_END` –ø—Ä—è–º–æ –≤ `SHIFT_PERSONAL_LOGGER`**.
–¢–æ–¥—ñ:

* —è–∫—â–æ –≤–∏ –æ–Ω–æ–≤–∏—Ç–µ `DEPARTMENT_SHIFT_NUMBER` ‚Üí —Ü–µ –Ω–µ –≤–ø–ª–∏–Ω–µ –Ω–∞ —Å—Ç–∞—Ä—ñ –∑–∞–ø–∏—Å–∏.
* —É –º–∞–π–±—É—Ç–Ω—å–æ–º—É –º–æ–∂–Ω–∞ –±—É–¥–µ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ–∞–∫—Ç–∏—á–Ω—ñ —Ä–æ–±–æ—á—ñ —ñ–Ω—Ç–µ—Ä–≤–∞–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.

---

## üìå –û—Å—Ç–∞—Ç–æ—á–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞)

```sql
CREATE TABLE SHIFT_PERSONAL_LOGGER (
    ID               NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    LOG_DATE         DATE DEFAULT SYSDATE NOT NULL,
    TAB_NO           NUMBER NOT NULL,
    DEPARTMENT_ID    NUMBER NOT NULL,
    POSITION_ID      NUMBER,
    SHIFT_SYMBOL_ID  NUMBER,
    SHIFT_NUMBER_ID  NUMBER,
    TIME_START       DATE NOT NULL,
    TIME_END         DATE NOT NULL,
    SOURCE_APP       VARCHAR2(50),
    CREATED_BY       VARCHAR2(100) DEFAULT USER,
    CREATED_AT       DATE DEFAULT SYSDATE,
    UPDATED_BY       VARCHAR2(100),
    UPDATED_AT       DATE,
    IS_ACTIVE        CHAR(1) DEFAULT 'Y' CHECK (IS_ACTIVE IN ('Y','N'))
);
```

---

üëâ –¢–æ–±—Ç–æ –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —î `SHIFT_NUMBER_ID`, –ø—Ä–∏ –≤—Å—Ç–∞–≤—Ü—ñ –≤–∏ –ø—Ä–æ—Å—Ç–æ –∫–æ–ø—ñ—é—î—Ç–µ `TIME_START/TIME_END` –∑ `DEPARTMENT_SHIFT_NUMBER`.
–¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–µ—Å—Ç–∏ **—ñ—Å—Ç–æ—Ä–∏—á–Ω–∏–π –∂—É—Ä–Ω–∞–ª**, –∞ –¥–æ–≤—ñ–¥–Ω–∏–∫–∏ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –≥–Ω—É—á–∫–∏–º–∏ –¥–ª—è –º–∞–π–±—É—Ç–Ω—ñ—Ö –∑–º—ñ–Ω.

---

–•–æ—á–µ—Ç–µ, —è –Ω–∞–ø–∏—à—É –ø—Ä–∏–∫–ª–∞–¥ **PL/SQL –ø—Ä–æ—Ü–µ—Å—É –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏**, –¥–µ:

* —è–∫—â–æ –∑–∞–¥–∞–Ω–æ `SHIFT_NUMBER_ID` ‚Üí –±–µ—Ä–µ—Ç—å—Å—è `TIME_START/TIME_END` –∑ –¥–æ–≤—ñ–¥–Ω–∏–∫–∞;
* —è–∫—â–æ –Ω–µ –∑–∞–¥–∞–Ω–æ ‚Üí –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤–≤–µ–¥–µ–Ω—ñ –≤—Ä—É—á–Ω—É –∑–Ω–∞—á–µ–Ω–Ω—è?
