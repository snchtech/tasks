–ß—É–¥–æ–≤–∏–π –≤–∏–±—ñ—Ä üëç –¶–µ **–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π, ‚Äú–¥–æ—Ä–æ—Å–ª–∏–π‚Äù UX-–ø–∞—Ç–µ—Ä–Ω** –¥–ª—è —ñ—î—Ä–∞—Ä—Ö—ñ—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö.
–ü–æ–∫–∞–∂—É **–ø–æ–∫—Ä–æ–∫–æ–≤–æ**: —â–æ –∫–ª–∞—Ü–∞—Ç–∏ –≤ –∞–¥–º—ñ–Ω—Ü—ñ APEX + —è–∫–∏–π –∫–æ–¥ –ø–∏—Å–∞—Ç–∏.

---

# üéõÔ∏è –†–µ–∂–∏–º–∏ –ø–µ—Ä–µ–≥–ª—è–¥—É –≤ Interactive Grid

**Structure / By Date** (–±–µ–∑ –ª–∞–º–∞–Ω–Ω—è —ñ—î—Ä–∞—Ä—Ö—ñ—ó)

## –©–æ –æ—Ç—Ä–∏–º–∞—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á

* üîπ **Structure** ‚Äî –¥–µ—Ä–µ–≤–æ, –Ω–æ–º–µ—Ä–∏ `1 / 1.1 / 1.1.1`
* üîπ **By Date** ‚Äî –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫, –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –ø–æ `date_end`
* –í —Ä–µ–∂–∏–º—ñ **By Date**:

  * –Ω–æ–º–µ—Ä –ø—ñ–¥–∑–∞–≤–¥–∞–Ω–Ω—è **—Å—ñ—Ä–∏–π**
  * –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å / —Å–µ–Ω—Å ‚Äú—ñ—î—Ä–∞—Ä—Ö—ñ—ó‚Äù –≤—ñ–∑—É–∞–ª—å–Ω–æ –∑–Ω–∏–∂–µ–Ω–∏–π

---

## üß© –ö–†–û–ö 1. Item-–ø–µ—Ä–µ–º–∏–∫–∞—á —Ä–µ–∂–∏–º—É

### Page Item

**Name:** `P7_VIEW_MODE`
**Type:** Radio Group (–∞–±–æ Select List)

**List of Values:**

```text
STRUCT;STRUCT
DATE;DATE
```

**Default Value:**

```text
STRUCT
```

**Display Extra Values:** No
**Submit when value changed:** Yes (–∞–±–æ DA)

---

## üß© –ö–†–û–ö 2. SQL –¥–ª—è Interactive Grid (–∫–ª—é—á–æ–≤–∏–π –º–æ–º–µ–Ω—Ç)

### –ë–∞–∑–æ–≤–∏–π SELECT (–ø—Ä–∏–∫–ª–∞–¥)

```sql
select
  id,
  parent_id,
  subtask_number,
  planning_date_end,
  sort_path
from task_subtasks
where task_id = :P6_TASK_ID
order by
  case
    when :P7_VIEW_MODE = 'STRUCT' then sort_path
  end,
  case
    when :P7_VIEW_MODE = 'DATE' then planning_date_end
  end nulls last,
  sort_path
```

### üí° –ß–æ–º—É —Ç–∞–∫?

* –í —Ä–µ–∂–∏–º—ñ `STRUCT` ‚Üí **–ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ `sort_path`**
* –í —Ä–µ–∂–∏–º—ñ `DATE` ‚Üí **–ø–µ—Ä—à–∏–π –∫–ª—é—á `planning_date_end`**
* `sort_path` –ª–∏—à–∞—î—Ç—å—Å—è —è–∫ —Å—Ç–∞–±—ñ–ª—ñ–∑–∞—Ç–æ—Ä

üëâ **–æ–¥–∏–Ω IG, –æ–¥–∏–Ω SQL, –±–µ–∑ –º–∞–≥—ñ—ó**

---

## üß© –ö–†–û–ö 3. Refresh IG –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Ä–µ–∂–∏–º—É

### Dynamic Action

**Event:** Change
**Item:** `P7_VIEW_MODE`

**True Action:**

* Action: **Refresh**
* Affected Region: *—Ç–≤—ñ–π Interactive Grid*

‚úîÔ∏è –í—Å–µ, –ø–æ—Ä—è–¥–æ–∫ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –º–∏—Ç—Ç—î–≤–æ

---

## üß© –ö–†–û–ö 4. –í—ñ–∑—É–∞–ª—å–Ω–æ ‚Äú–ø—Ä–∏–≥–ª—É—à–∏—Ç–∏‚Äù –Ω–æ–º–µ—Ä —É —Ä–µ–∂–∏–º—ñ DATE

### 4.1 –î–æ–¥–∞–π CSS-class –¥–æ –∫–æ–ª–æ–Ω–∫–∏ –Ω–æ–º–µ—Ä–∞

**IG ‚Üí Column `SUBTASK_NUMBER`**

**Appearance ‚Üí CSS Classes**

```text
subtask-number
```

---

### 4.2 Dynamic Action ‚Üí Toggle CSS

#### Dynamic Action

**Event:** Change
**Item:** `P7_VIEW_MODE`

##### TRUE action (JS)

```js
if ($v('P7_VIEW_MODE') === 'DATE') {
  $('.subtask-number').addClass('subtask-number--disabled');
} else {
  $('.subtask-number').removeClass('subtask-number--disabled');
}
```

---

### 4.3 CSS (Global Page –∞–±–æ Page CSS)

```css
.subtask-number--disabled {
  color: #9e9e9e;
  opacity: 0.6;
  pointer-events: none;
  font-style: italic;
}
```

üí° –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á **—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–æ –±–∞—á–∏—Ç—å**:

> ‚Äú–¶–µ –∑–∞—Ä–∞–∑ –ø—Ä–æ—Å—Ç–æ –Ω–æ–º–µ—Ä, –Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞‚Äù

---

## üß© –ö–†–û–ö 5 (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –∞–ª–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é)

### –í–∏–º–∫–Ω—É—Ç–∏ user-sort –ø–æ –∫–æ–ª–æ–Ω—Ü—ñ –Ω–æ–º–µ—Ä–∞ –≤ DATE-—Ä–µ–∂–∏–º—ñ

**IG ‚Üí Column ‚Üí Sorting**

* Allow Sorting: **No**

üëâ –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç—Ä–æ–ª—é—î—Ç—å—Å—è **—Ç—ñ–ª—å–∫–∏ SQL**
üëâ UX –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–π

---

## üéØ –ü—ñ–¥—Å—É–º–æ–∫ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

| –ï–ª–µ–º–µ–Ω—Ç    | –†—ñ—à–µ–Ω–Ω—è                   |
| ---------- | ------------------------- |
| –Ü—î—Ä–∞—Ä—Ö—ñ—è   | `sort_path`               |
| –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è | SQL, –Ω–µ –∫–ª—ñ–∫–æ–º            |
| Date view  | –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫            |
| UX         | –ø–µ—Ä–µ–º–∏–∫–∞—á —Ä–µ–∂–∏–º—ñ–≤         |
| –ù–æ–º–µ—Ä      | —Å—ñ—Ä–∏–π / –Ω–µ–∞–∫—Ç–∏–≤–Ω–∏–π —É DATE |

---

## üß† –ß–æ–º—É —Ü–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

* ‚úîÔ∏è –ù–µ –ª–∞–º–∞—î —ñ—î—Ä–∞—Ä—Ö—ñ—é
* ‚úîÔ∏è –î–∞—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º ‚Äú–¥–∞—Ç–∏‚Äù
* ‚úîÔ∏è –õ–µ–≥–∫–æ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏
* ‚úîÔ∏è –ú–∞—Å—à—Ç–∞–±—É—î—Ç—å—Å—è (—Ñ—ñ–ª—å—Ç—Ä–∏, buckets, overdue)

---

–Ø–∫—â–æ —Ö–æ—á–µ—à ‚Äî –Ω–∞—Å—Ç—É–ø–Ω–∏–º –∫—Ä–æ–∫–æ–º –º–æ–∂—É:

* üî• –¥–æ–¥–∞—Ç–∏ **–±–µ–π–¥–∂—ñ ‚Äú–ü—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω–æ / –°—å–æ–≥–æ–¥–Ω—ñ / –¶—å–æ–≥–æ —Ç–∏–∂–Ω—è‚Äù**
* üéõÔ∏è –∑—Ä–æ–±–∏—Ç–∏ **–ø–µ—Ä–µ–º–∏–∫–∞—á —ñ–∫–æ–Ω–∫–∞–º–∏ (tree / calendar)**
* üß© –∞–±–æ –ø–æ–∫–∞–∑–∞—Ç–∏, —è–∫ **—É DATE-—Ä–µ–∂–∏–º—ñ –ø—Ä–∏—Ö–æ–≤–∞—Ç–∏ parent-child –≤—ñ–¥—Å—Ç—É–ø–∏**

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏ üëç
