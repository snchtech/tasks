–°—É–ø–µ—Ä üëç –Ü–∫–æ–Ω–∫–æ–≤–∏–π –ø–µ—Ä–µ–º–∏–∫–∞—á **tree / calendar** —Ç—É—Ç –ª—è–≥–∞—î —ñ–¥–µ–∞–ª—å–Ω–æ ‚Äî —ñ UX –æ–¥—Ä–∞–∑—É —Å—Ç–∞—î ‚Äú–¥–æ—Ä–æ—Å–ª–∏–º‚Äù.
–ü–æ–∫–∞–∂—É **–ø—Ä–∞–∫—Ç–∏—á–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é —Å–∞–º–µ –ø—ñ–¥ Oracle APEX**, –±–µ–∑ –∑–∞–π–≤–æ–≥–æ JS-—Ü–∏—Ä–∫—É.

---

# üéõÔ∏è –Ü–∫–æ–Ω–∫–æ–≤–∏–π –ø–µ—Ä–µ–º–∏–∫–∞—á —Ä–µ–∂–∏–º—ñ–≤

**Structure (üå≥) / By Date (üìÖ)**

## üéØ –©–æ –≤–∏–π–¥–µ

* –î–≤—ñ —ñ–∫–æ–Ω–∫–∏:

  * üå≥ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**
  * üìÖ **–¢–µ—Ä–º—ñ–Ω–∏**
* –ê–∫—Ç–∏–≤–Ω–∞ —ñ–∫–æ–Ω–∫–∞ ‚Äî –ø—ñ–¥—Å–≤—ñ—á–µ–Ω–∞
* –ö–ª—ñ–∫ ‚Üí –º—ñ–Ω—è—î `P7_VIEW_MODE` ‚Üí refresh IG
* –ü—Ä–∞—Ü—é—î —Å—Ç–∞–±—ñ–ª—å–Ω–æ –≤ APEX 22‚Äì24

---

## üß© –ö–†–û–ö 1. Page Item (–ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π)

–ú–∏ **–ù–ï –ø–æ–∫–∞–∑—É—î–º–æ** —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π Radio Group.

### Page Item

* **Name:** `P7_VIEW_MODE`
* **Type:** Hidden
* **Default Value:** `STRUCT`

---

## üß© –ö–†–û–ö 2. Region –∑ —ñ–∫–æ–Ω–∫–∞–º–∏ (Static Content)

–°—Ç–≤–æ—Ä–∏ **Static Content Region** –Ω–∞–¥ Interactive Grid.

### HTML (Region ‚Üí Source)

```html
<div class="view-toggle">
  <span class="view-toggle__btn active"
        data-mode="STRUCT"
        title="–ü–µ—Ä–µ–≥–ª—è–¥ –∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é">
    <span class="fa fa-sitemap"></span>
  </span>

  <span class="view-toggle__btn"
        data-mode="DATE"
        title="–ü–µ—Ä–µ–≥–ª—è–¥ –∑–∞ —Ç–µ—Ä–º—ñ–Ω–∞–º–∏">
    <span class="fa fa-calendar"></span>
  </span>
</div>
```

> `fa-sitemap` —ñ `fa-calendar` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ Font APEX / Font Awesome

---

## üß© –ö–†–û–ö 3. CSS (–≤–∏–≥–ª—è–¥ —ñ –∞–∫—Ç–∏–≤–Ω–∏–π —Å—Ç–∞–Ω)

### Page CSS –∞–±–æ Global CSS

```css
.view-toggle {
  display: inline-flex;
  gap: 8px;
  margin-bottom: 8px;
}

.view-toggle__btn {
  cursor: pointer;
  padding: 6px 10px;
  border-radius: 6px;
  color: #6b7280;
  background: #f3f4f6;
  font-size: 16px;
  transition: all .15s ease;
}

.view-toggle__btn:hover {
  background: #e5e7eb;
}

.view-toggle__btn.active {
  background: #2563eb;
  color: #ffffff;
}
```

üí° –í–∏–≥–ª—è–¥:

* –Ω–µ –∫—Ä–∏—á—É—â–∏–π
* –∑—Ä–æ–∑—É–º—ñ–ª–∏–π
* –≤–∏–≥–ª—è–¥–∞—î ‚Äú–Ω–∞—Ç–∏–≤–Ω–æ‚Äù –¥–ª—è APEX

---

## üß© –ö–†–û–ö 4. JavaScript (–ª–æ–≥—ñ–∫–∞ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è)

### Page ‚Üí Execute when Page Loads

```js
$('.view-toggle__btn').on('click', function () {
  const mode = $(this).data('mode');

  // 1. –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ item
  apex.item('P7_VIEW_MODE').setValue(mode);

  // 2. –ø–µ—Ä–µ–º–∏–∫–∞—î–º–æ active-–∫–ª–∞—Å
  $('.view-toggle__btn').removeClass('active');
  $(this).addClass('active');

  // 3. refresh Interactive Grid
  apex.region('SUBTASKS_IG').refresh();
});
```

‚ö†Ô∏è `SUBTASKS_IG` ‚Äî **Static ID** —Ç–≤–æ–≥–æ IG (–æ–±–æ–≤ º—è–∑–∫–æ–≤–æ –∑–∞–¥–∞–π!)

---

## üß© –ö–†–û–ö 5. –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ reload / redirect

–©–æ–± –∞–∫—Ç–∏–≤–Ω–∞ —ñ–∫–æ–Ω–∫–∞ **–ø—ñ–¥—Ö–æ–ø–ª—é–≤–∞–ª–∞—Å—å –ø—ñ—Å–ª—è redirect / refresh**:

```js
const mode = $v('P7_VIEW_MODE') || 'STRUCT';

$('.view-toggle__btn').removeClass('active');
$('.view-toggle__btn[data-mode="' + mode + '"]').addClass('active');
```

üëâ –ú–æ–∂–µ—à –¥–æ–¥–∞—Ç–∏ –≤ —Ç–æ–π —Å–∞–º–∏–π `Execute when Page Loads`

---

## üß© –ö–†–û–ö 6. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—é –ª–æ–≥—ñ–∫–æ—é

‚úîÔ∏è SQL `ORDER BY` ‚Äî –≤–∂–µ –≥–æ—Ç–æ–≤–∏–π
‚úîÔ∏è DA –Ω–∞ –∑–º—ñ–Ω—É `P7_VIEW_MODE` ‚Äî –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω
‚úîÔ∏è –í—ñ–∑—É–∞–ª—å–Ω–µ ‚Äú–ø—Ä–∏–≥–ª—É—à–µ–Ω–Ω—è –Ω–æ–º–µ—Ä–∞‚Äù ‚Äî –ø—Ä–∞—Ü—é—î —è–∫ —Ä–∞–Ω—ñ—à–µ

---

## üéØ UX-—Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á **—ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–æ** —Ä–æ–∑—É–º—ñ—î:

* üå≥ ‚Üí ‚Äú–¥–µ—Ä–µ–≤–æ‚Äù
* üìÖ ‚Üí ‚Äú—Ç–µ—Ä–º—ñ–Ω–∏‚Äù

–Ü –≥–æ–ª–æ–≤–Ω–µ:

> –≤—ñ–Ω **–Ω–µ –æ—á—ñ–∫—É—î**, —â–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–±–µ—Ä–µ–∂–µ—Ç—å—Å—è –≤ —Ä–µ–∂–∏–º—ñ –¥–∞—Ç
> –±–æ —ñ–∫–æ–Ω–∫–∞ —Ü–µ —á—ñ—Ç–∫–æ –ø–æ—è—Å–Ω—é—î

---

## üß† –•–æ—á–µ—à —â–µ –∫—Ä–∞—â–µ?

–ú–æ–∂–µ–º–æ:

* –¥–æ–¥–∞—Ç–∏ **tooltip –∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º —Ä–µ–∂–∏–º—É**
* –∑—Ä–æ–±–∏—Ç–∏ **sticky toggle** –ø—Ä–∏ scroll
* –¥–æ–¥–∞—Ç–∏ **–±–µ–π–¥–∂ –ø—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω–∏—Ö** —Ç—ñ–ª—å–∫–∏ –≤ DATE
* –∞–±–æ –∞–Ω—ñ–º–∞—Ü—ñ—é –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Ä–µ–∂–∏–º—É (–¥—É–∂–µ —Å—Ç—Ä–∏–º–∞–Ω—É)

–°–∫–∞–∂–∏, —â–æ —â–µ —Ö–æ—á–µ—à ‚Äú–¥–æ–ø–æ–ª—ñ—Ä—É–≤–∞—Ç–∏‚Äù üòâ
