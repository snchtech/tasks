–°—É–ø–µ—Ä, —â–æ —Ç–∏ –¥—ñ–π—à–ª–∞ –π –¥–æ —à–∞–±–ª–æ–Ω—ñ–≤ üí™
–¢—É—Ç —Å–∏—Ç—É–∞—Ü—ñ—è –¥—É–∂–µ —Å—Ö–æ–∂–∞ –Ω–∞ `V_TASKS_FULL`: –≥–æ–ª–æ–≤–Ω–∏–π –≤–æ—Ä–æ–≥ —à–≤–∏–¥–∫–æ—Å—Ç—ñ ‚Äì **–¥–µ—Å—è—Ç–∫–∏ –∫–æ—Ä–µ–ª—å–æ–≤–∞–Ω–∏—Ö –ø—ñ–¥–∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ dblink –¥–ª—è –ö–û–ñ–ù–û–ì–û —Ä—è–¥–∫–∞**.

–Ø –∑—Ä–æ–±–ª—é —Ç–∞–∫:

1. –ö–æ—Ä–æ—Ç–∫–æ –ø–æ–∫–∞–∂—É, *—â–æ —Å–∞–º–µ* —Ç—É—Ç –≥–∞–ª—å–º—É—î.
2. –î–∞–º **–∑—Ä–∞–∑–æ–∫ –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ view** –∑ `WITH`, —â–æ–± —Ç–∏ –º–æ–≥–ª–∞ —Å–ø–æ–∫—ñ–π–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–≤—ñ–π HTML 1:1 —É—Å–µ—Ä–µ–¥–∏–Ω—É.

---

## 1. –©–æ –∑–∞—Ä–∞–∑ –≥–∞–ª—å–º—É—î

–£ —Ç–≤–æ—î–º—É `V_TEMPLATE_FULL`:

* –î–ª—è **–∫–æ–∂–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω—É**:

  * –ø—ñ–¥–∑–∞–ø–∏—Ç –Ω–∞ `TASK_TEMPLATE_SUBTASKS` (LISTAGG),
  * –ø—ñ–¥–∑–∞–ø–∏—Ç –Ω–∞ `SIGNATURERIGHTS` (creator, stage=2),
  * –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –Ω—å–æ–≥–æ —â–µ –ø–æ –æ–¥–Ω–æ–º—É –ø—ñ–¥–∑–∞–ø–∏—Ç—É –Ω–∞ `SIGNATUREHISTORY` (+ `KBS.PERSONAL`) –∑ `FETCH FIRST ROW ONLY`,
  * –ø—ñ–¥–∑–∞–ø–∏—Ç –¥–ª—è EXECUTOR_INFO –∑ `LISTAGG` –ø–æ `SIGNATURERIGHTS` (stage=4), —ñ —Ç–∞–º –∑–Ω–æ–≤—É –ø–æ –æ–¥–Ω–æ–º—É –ø—ñ–¥–∑–∞–ø–∏—Ç—É –Ω–∞ `SIGNATUREHISTORY`,
  * —â–µ —Ä–∞–∑ –ø—ñ–¥–∑–∞–ø–∏—Ç–∏ –Ω–∞ `SIGNATUREHISTORY` –¥–ª—è STATUS_NAME / STATUS_ID,
  * —â–µ –æ–¥–∏–Ω EXISTS –¥–ª—è ‚Äú–Ω–µ–¥–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–∏–π —à–∞–±–ª–æ–Ω‚Äù (DICT_APP_CONFIRM_LIST + SIGNATURERIGHTS),
  * ORDER BY —É view.

–¢–æ–±—Ç–æ –≤ —Å—É–º—ñ ‚Äì –∫—ñ–ª—å–∫–∞ **–ø—Ä–æ—Ö–æ–¥—ñ–≤ –ø–æ —Ç–∏—Ö —Å–∞–º–∏—Ö —Ç–∞–±–ª–∏—Ü—è—Ö** —á–µ—Ä–µ–∑ dblink (–æ—Å–æ–±–ª–∏–≤–æ SIGNATURERIGHTS/SIGNATUREHISTORY).

---

## 2. –ü—Ä–∏–Ω—Ü–∏–ø –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

–Ø–∫ —ñ –∑ –∑–∞–¥–∞—á–∞–º–∏:

* –û–î–ò–ù —Ä–∞–∑ —á–∏—Ç–∞—î–º–æ –∫–æ–∂–Ω—É –≤–∞–∂–∫—É —Ç–∞–±–ª–∏—Ü—é —á–µ—Ä–µ–∑ CTE (`WITH`),
* —É CTE –≤—ñ–¥—Ä–∞–∑—É –∞–≥—Ä–µ–≥—É—î–º–æ –ø–æ TEMPLATE_ID:

  * —Å—É–±–∑–∞–≤–¥–∞–Ω–Ω—è (LISTAGG),
  * CREATOR_INFO (1 —Ä—è–¥–æ–∫ –Ω–∞ —à–∞–±–ª–æ–Ω),
  * EXECUTOR_INFO (1 —Ä—è–¥–æ–∫ –Ω–∞ —à–∞–±–ª–æ–Ω),
  * –æ—Å—Ç–∞–Ω–Ω—ñ–π —Å—Ç–∞—Ç—É—Å (STATUS_ID/NAME),
  * –ø—Ä–∞–ø–æ—Ä–µ—Ü—å `IS_INCOMPLETE`,
  * PERIOD_INFO_HTML.
* –£ —Ñ—ñ–Ω–∞–ª—å–Ω–æ–º—É `SELECT` –ø—Ä–æ—Å—Ç–æ —Ä–æ–±–∏–º–æ `LEFT JOIN` —Ü–∏—Ö –∞–≥—Ä–µ–≥–∞—Ç—ñ–≤.

–Ü **–≤–∏–¥–∞–ª—è—î–º–æ** `ORDER BY` –∑ view ‚Äì —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —Ç—Ä–µ–±–∞ —Ä–æ–±–∏—Ç–∏ –≤ APEX (ORDER BY –≤ SQL-–¥–∂–µ—Ä–µ–ª—ñ —Ä–µ–≥—ñ–æ–Ω—É).

---

## 3. –°–∫–µ–ª–µ—Ç –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ–≥–æ `V_TEMPLATE_FULL`

–ù–∏–∂—á–µ ‚Äì —Ä–æ–±–æ—á–∏–π –∫–∞—Ä–∫–∞—Å. HTML –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –º–æ–∂–Ω–∞ –∑–∞–ª–∏—à–∏—Ç–∏ —Ç–≤—ñ–π, —è —Ç—ñ–ª—å–∫–∏ —Å–ø—Ä–æ—â—É—é, —â–æ–± –Ω–µ –∑–∞–π–º–∞—Ç–∏ 5 –µ–∫—Ä–∞–Ω—ñ–≤ —Ç–µ–∫—Å—Ç—É üòâ

–¢–∏ –∑–º–æ–∂–µ—à:

* –≤–∑—è—Ç–∏ —Ü–µ–π –∫–∞—Ä–∫–∞—Å,
* –≤—Å—Ç–∞–≤–∏—Ç–∏ —Å–≤–æ—ó —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏ HTML —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –º—ñ—Å—Ü—è (`/* TODO HTML —è–∫ —É —Ç–µ–±–µ */`).

```sql
CREATE OR REPLACE VIEW V_TEMPLATE_FULL AS
WITH
/* 1. –ë–∞–∑–∞ —à–∞–±–ª–æ–Ω—ñ–≤ */
tmpl AS (
  SELECT
    tt.id              AS template_id,
    tt.unit_id,
    tt.department_id,
    tt.page_list_id,
    tt.type_id,
    tt.period_mode,
    tt.period_interval,
    tt.period_time,
    tt.weekly_time,
    tt.period_start_date,
    tt.execution_term_days,
    tt.next_run_date,
    tt.date_end,
    tt.status_id,
    tt.task_content,
    u.name             AS unit_name,
    st.name            AS base_status_name,
    dep.short_name     AS department_name
  FROM TaskTracker.TASK_TEMPLATES@To_Tasktracker10 tt
  LEFT JOIN TaskTracker.DICT_UNIT@To_Tasktracker10   u   ON u.id = tt.unit_id
  LEFT JOIN TaskTracker.DICT_STATUS@To_Tasktracker10 st  ON st.id = tt.status_id
  LEFT JOIN TaskTracker.DEPART_CONFIRMLIST_V@To_Tasktracker10 dep
         ON dep.id = tt.department_id
),

/* 2. –ê–≥—Ä–µ–≥–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω—å */
subtasks_agg AS (
  SELECT
    sts.template_id,
    LISTAGG(sts.subtask_content, ', ')
      WITHIN GROUP (ORDER BY sts.subtask_order) AS subtasks_html
  FROM TaskTracker.TASK_TEMPLATE_SUBTASKS@To_Tasktracker10 sts
  GROUP BY sts.template_id
),

/* 3. Signaturerights –¥–ª—è CREATOR (stage 2) */
sr_creator AS (
  SELECT
    sr.task_id      AS template_id,
    sr.id           AS signright_id,
    sr.user_tabno,
    sr.position_id,
    sr.department_id
  FROM TaskTracker.SIGNATURERIGHTS@To_Tasktracker10 sr
  WHERE sr.stages_id = 2
),

/* 4. –û—Å—Ç–∞–Ω–Ω—ñ–π –∑–∞–ø–∏—Å SIGNATUREHISTORY –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ signright (CREATOR) */
last_sign_creator AS (
  SELECT *
  FROM (
    SELECT
      h.signright_id,
      h.signer_by,
      h.signer_date,
      h.sdate,
      ROW_NUMBER() OVER (
        PARTITION BY h.signright_id
        ORDER BY h.sdate DESC, h.id DESC
      ) AS rn
    FROM TaskTracker.SIGNATUREHISTORY@To_Tasktracker10 h
    WHERE h.new_status_id IS NOT NULL
  )
  WHERE rn = 1
),

/* 5. –ü–µ—Ä—Å–æ–Ω–∞–ª –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ */
pers AS (
  SELECT p.tab_no,
         p.familia,
         p.imya,
         p.otchestvo,
         p.spr_dolznost,
         p.tseh_short
  FROM KBS.Personal@To_Tasktracker10 p
  WHERE p.priznak IS NULL
),

/* 6. –ë–ª–æ–∫ CREATOR_INFO (1 HTML —Ä—è–¥–æ–∫ –Ω–∞ —à–∞–±–ª–æ–Ω) */
creator_info AS (
  SELECT
    c.template_id,
    -- —Ç—É—Ç —Å–∫–ª–∞–¥–∞—î–º–æ HTML –æ–¥–∏–Ω —Ä–∞–∑
    '<span class="task_creator">' ||
    '<span class="exctr-ttl">–°—Ç–≤–æ—Ä–µ–Ω–æ:</span><br />' ||
    RTRIM(
      CASE
        WHEN c.user_tabno IS NOT NULL THEN
          (u2.familia || ' ' ||
           SUBSTR(u2.imya, 1, 1) || '. ' ||
           SUBSTR(u2.otchestvo, 1, 1) || '.')
        ELSE ''
      END
      || CASE WHEN c.user_tabno IS NOT NULL AND u2.spr_dolznost IS NOT NULL
              THEN ', <br />' ELSE '' END
      || NVL(u2.spr_dolznost, ''),
      ', '
    ) ||
    '</span><br />' ||
    CASE
      WHEN c.user_tabno IS NOT NULL THEN
        '<span class="signer_info">' ||
        '<span class="exctr-ttl">–í–∏–¥–∞–Ω–æ:</span><br />' ||
        TO_CHAR(ls.signer_date, 'DD.MM.YYYY HH24:MI') ||
        '</span>'
      ELSE
        ''  -- —è–∫—â–æ —Ç—Ä–µ–±–∞ ‚Äì –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç
    END AS creator_info_html
  FROM sr_creator c
  LEFT JOIN pers u2       ON u2.tab_no = c.user_tabno
  LEFT JOIN last_sign_creator ls ON ls.signright_id = c.signright_id
),

/* 7. Signaturerights –¥–ª—è EXECUTOR (stage 4) + –æ—Å—Ç–∞–Ω–Ω—ñ–π –ø—ñ–¥–ø–∏—Å */
sr_exec AS (
  SELECT
    sr.task_id      AS template_id,
    sr.id           AS signright_id,
    sr.user_tabno,
    sr.position_id,
    sr.department_id,
    sr.sort_order
  FROM TaskTracker.SIGNATURERIGHTS@To_Tasktracker10 sr
  WHERE sr.stages_id = 4
),

last_sign_exec AS (
  SELECT *
  FROM (
    SELECT
      h.signright_id,
      h.signer_by,
      h.signer_date,
      ROW_NUMBER() OVER (
        PARTITION BY h.signright_id
        ORDER BY h.sdate DESC, h.id DESC
      ) AS rn
    FROM TaskTracker.SIGNATUREHISTORY@To_Tasktracker10 h
    WHERE h.new_status_id IS NOT NULL
  )
  WHERE rn = 1
),

/* 8. EXECUTOR_INFO ‚Äì LISTAGG –ø–æ —à–∞–±–ª–æ–Ω—É */
executor_info AS (
  SELECT
    e.template_id,
    LISTAGG(
      '<span class="task-creator exctr-ttl-delim">' ||
      '<span class="task-creator-number">' || e.sort_order || '.</span> ' ||
      NVL(u3.familia, '') || ' ' ||
      SUBSTR(u3.imya, 1, 1) || '. ' ||
      SUBSTR(u3.otchestvo, 1, 1) || '. ' ||
      NVL(u3.spr_dolznost, '') || ' ' ||
      NVL(u3.tseh_short, '') ||
      '<br/>' ||
      '<span class="signer_info"><span class="exctr-ttl">–í–∏–∫–æ–Ω–∞–Ω–æ:</span><br />' ||
      TO_CHAR(le.signer_date, 'DD.MM.YYYY HH24:MI') ||
      '</span>' ||
      '</span>',
      ' '
    ) WITHIN GROUP (ORDER BY e.sort_order) AS executor_info_html
  FROM sr_exec e
  LEFT JOIN pers u3       ON u3.tab_no = e.user_tabno
  LEFT JOIN last_sign_exec le ON le.signright_id = e.signright_id
  GROUP BY e.template_id
),

/* 9. –û—Å—Ç–∞–Ω–Ω—ñ–π —Å—Ç–∞—Ç—É—Å —à–∞–±–ª–æ–Ω—É (STATUS_ID/NAME) */
last_status AS (
  SELECT *
  FROM (
    SELECT
      r.task_id      AS template_id,
      h.new_status_id,
      s2.name        AS status_name,
      ROW_NUMBER() OVER (
        PARTITION BY r.task_id
        ORDER BY h.sdate DESC, h.id DESC
      ) AS rn
    FROM TaskTracker.SIGNATUREHISTORY@To_Tasktracker10 h
    JOIN TaskTracker.SIGNATURERIGHTS@To_Tasktracker10 r
      ON r.id = h.signright_id
    JOIN TaskTracker.DICT_STATUS@To_Tasktracker10 s2
      ON s2.id = h.new_status_id
    WHERE h.new_status_id IS NOT NULL
  )
  WHERE rn = 1
),

/* 10. –ù–µ–¥–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–∏–π —à–∞–±–ª–æ–Ω */
incomplete_flag AS (
  SELECT
    tt.id AS template_id,
    CASE
      WHEN EXISTS (
        SELECT 1
        FROM TaskTracker.DICT_APP_CONFIRM_LIST@TO_TASKTRACKER10 d
        WHERE d.page_list_id     = tt.page_list_id
          AND d.parent_stage_id IS NOT NULL
          AND NOT EXISTS (
                SELECT 1
                FROM TaskTracker.SIGNATURERIGHTS@TO_TASKTRACKER10 r
                WHERE r.task_id   = tt.id
                  AND r.stages_id = d.id
          )
      )
      THEN 1 ELSE 0
    END AS is_incomplete
  FROM TaskTracker.TASK_TEMPLATES@To_Tasktracker10 tt
),

/* 11. –¢–µ–∫—Å—Ç PERIOD_INFO_HTML */
period_info AS (
  SELECT
    tt.id AS template_id,
    CASE
      WHEN tt.period_mode = 1 THEN
        '<b>–ö–æ–∂–Ω—ñ </b>' || tt.period_interval || ' –¥–Ω—ñ–≤ –æ ' ||
        TO_CHAR(tt.period_time, 'HH24:MI') ||
        ' –ø–æ—á–∏–Ω–∞—é—á–∏ –∑ ' || TO_CHAR(tt.period_start_date, 'DD.MM.YYYY')
      WHEN tt.period_mode = 2 THEN
        -- —Ç—É—Ç –º–æ–∂–µ—à –∑—Ä–æ–±–∏—Ç–∏ LISTAGG –ø–æ –¥–Ω—è—Ö —Ç–∏–∂–Ω—è —è–∫ —É —Ç–µ–±–µ
        '<b>–©–æ—Ç–∏–∂–Ω—è</b> ...'  -- TODO: –≤—Å—Ç–∞–≤–∏—Ç–∏ —Å–≤—ñ–π HTML
      ELSE NULL
    END AS period_info_html
  FROM TaskTracker.TASK_TEMPLATES@To_Tasktracker10 tt
)

/* 12. –§—ñ–Ω–∞–ª—å–Ω–∏–π SELECT ‚Äì –æ–¥–∏–Ω –ø—Ä–æ—Ö—ñ–¥ –ø–æ –≤—Å—ñ—Ö CTE */
SELECT
  t.template_id,
  t.unit_name,
  /* 3. –ó–º—ñ—Å—Ç –∞–±–æ —Å–ø–∏—Å–æ–∫ –ø—ñ–¥–∑–∞–≤–¥–∞–Ω—å */
  CASE
    WHEN t.type_id = 1 THEN t.task_content
    ELSE sa.subtasks_html
  END AS task_description_html,

  ci.creator_info_html  AS creator_info,
  ei.executor_info_html AS executor_info,

  /* –°—Ç–∞—Ç—É—Å (name/id) */
  COALESCE(ls.status_name, t.base_status_name) AS status_name,
  COALESCE(ls.new_status_id, t.status_id)      AS status_id,

  t.department_name,

  /* PERIOD_INFO_HTML */
  pi.period_info_html,

  /* Label –∑ —Ç–µ—Ä–º—ñ–Ω–æ–º */
  CASE
    WHEN t.execution_term_days IS NOT NULL THEN
      t.execution_term_days || ' –¥–Ω.'
    ELSE NULL
  END AS term_label,

  TO_CHAR(t.next_run_date, 'DD.MM.YYYY HH24:MI') AS next_run_date,
  TO_CHAR(t.date_end,     'DD.MM.YYYY')          AS date_end,

  t.type_id,

  /* HTML-—ñ–∫–æ–Ω–∫–∏ STATUS_LABEL_TEMPLATE */
  (
    CASE
      WHEN inf.is_incomplete = 1 THEN
        '<span class="t-Icon fa fa-exclamation-circle" ' ||
        'style="color:darkorange" title="–ù–µ–¥–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–∏–π —à–∞–±–ª–æ–Ω"></span>'
      ELSE ''
    END ||
    CASE
      WHEN t.period_mode = 1 THEN
        '<span class="t-Icon fa fa-retweet" ' ||
        'style="color:#2d46e; padding-right: 5px;" ' ||
        'title="–Ü–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–∏–π —Ä–µ–∂–∏–º"></span>'
      WHEN t.period_mode = 2 THEN
        '<span class="t-Icon fa fa-calendar-check-o" ' ||
        'style="color:#38a8b; padding-right: 5px;" ' ||
        'title="–©–æ—Ç–∏–∂–Ω–µ–≤–∏–π —Ä–µ–∂–∏–º"></span>'
      ELSE ''
    END
  ) AS status_label_template

FROM tmpl t
LEFT JOIN subtasks_agg   sa  ON sa.template_id   = t.template_id
LEFT JOIN creator_info   ci  ON ci.template_id   = t.template_id
LEFT JOIN executor_info  ei  ON ei.template_id   = t.template_id
LEFT JOIN last_status    ls  ON ls.template_id   = t.template_id
LEFT JOIN incomplete_flag inf ON inf.template_id = t.template_id
LEFT JOIN period_info    pi  ON pi.template_id   = t.template_id;
-- –ë–ï–ó ORDER BY —É view!
```

---

## 4. –©–æ –¥–∞—Å—Ç—å —Ç–∞–∫–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

1. **`SIGNATUREHISTORY` —ñ `SIGNATURERIGHTS` —á–∏—Ç–∞—é—Ç—å—Å—è –∫–æ–∂–µ–Ω –æ–¥–∏–Ω —Ä–∞–∑**, –∑ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∏–º–∏ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏ ‚Äì –∑–∞–º—ñ—Å—Ç—å –¥–µ—Å—è—Ç–∫—ñ–≤ –∫–æ—Ä–µ–ª—å–æ–≤–∞–Ω–∏—Ö SELECT‚Äô—ñ–≤.
2. –£—Å—ñ dblink-–∑–≤–µ—Ä–Ω–µ–Ω–Ω—è –∞–≥—Ä–µ–≥–æ–≤–∞–Ω—ñ –≤ CTE ‚Äì –º–µ–Ω—à–µ –º–µ—Ä–µ–∂–µ–≤–∏—Ö round-trip‚Äô—ñ–≤.
3. **–ù–µ–º–∞—î ORDER BY** —É view ‚Üí –±–µ–∑ –∑–∞–π–≤–æ–≥–æ —Å–æ—Ä—Ç—É –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É.
4. –£—Å—è ‚Äú–≤–∞–∂–∫–∞‚Äù HTML-–∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü—ñ—è —Ä–æ–±–∏—Ç—å—Å—è –≤–∂–µ –Ω–∞ –∞–≥—Ä–µ–≥–æ–≤–∞–Ω–∏—Ö –º–Ω–æ–∂–∏–Ω–∞—Ö (`GROUP BY template_id`), –∞ –Ω–µ –≤ –∫–æ—Ä–µ–ª—å–æ–≤–∞–Ω–∏—Ö –ø—ñ–¥–∑–∞–ø–∏—Ç–∞—Ö –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ä—è–¥–∫–∞.

–ù–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ —Ü–µ –¥–∞—î –¥—É–∂–µ —Å—Ö–æ–∂–∏–π –µ—Ñ–µ–∫—Ç, —è–∫ —Ç–∏ –≤–∂–µ –±–∞—á–∏–≤ –∑ `V_TASKS_FULL`: –∑–∞–º—ñ—Å—Ç—å –¥–µ–∫—ñ–ª—å–∫–æ—Ö —Å–µ–∫—É–Ω–¥ ‚Äì –¥–µ—Å—è—Ç—ñ —á–∞—Å—Ç–∫–∏ —Å–µ–∫—É–Ω–¥–∏, –∑–∞ —É–º–æ–≤–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–∏—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤:

* `TASK_TEMPLATE_SUBTASKS(template_id, subtask_order)`
* `SIGNATURERIGHTS(task_id, stages_id)`
* `SIGNATUREHISTORY(signright_id, sdate, id, new_status_id)`
* `DICT_APP_CONFIRM_LIST(page_list_id, parent_stage_id)`

---

–Ø–∫—â–æ —Ö–æ—á–µ—à, –º–æ–∂–µ–º–æ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –∫—Ä–æ–∫–æ–º **–ø–æ –æ–¥–Ω–æ–º—É** —Ä–æ–∑—ñ–±—Ä–∞—Ç–∏ –±–ª–æ–∫–∏:

* —Å–ø–æ—á–∞—Ç–∫—É —Ç—ñ–ª—å–∫–∏ `TASK_DESCRIPTION_HTML + STATUS_ID/NAME`,
* –ø–æ—Ç—ñ–º –¥–æ–¥–∞—Ç–∏ `CREATOR_INFO`,
* –ø–æ—Ç—ñ–º `EXECUTOR_INFO`,
  —â–æ–± —Ç–∏ –º–æ–≥–ª–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —à–≤–∏–¥–∫—ñ—Å—Ç—å —ñ –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å —à–º–∞—Ç–∫–∞–º–∏, –∞ –Ω–µ –≤—Å—ñ–º –º–æ–Ω—Å—Ç—Ä–æ–º –æ–¥—Ä–∞–∑—É.
