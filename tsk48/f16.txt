–ß—É–¥–æ–≤–æ, —Ç–æ–¥—ñ —Ä–æ–±–∏–º–æ **—É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π, –±–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤–∏–π —à–∞–±–ª–æ–Ω –¥—ñ–∞–ª–æ–≥—ñ–≤ –¥–ª—è APEX 24+**, —è–∫–∏–π –º–æ–∂–Ω–∞ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ **–¥–æ –≤—Å—ñ—Ö –º–æ–¥–∞–ª—å–Ω–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –ø—Ä–æ—î–∫—Ç—É** (—ñ –∑–∞–±—É—Ç–∏ –ø—Ä–æ —Ü—é –ø—Ä–æ–±–ª–µ–º—É –Ω–∞–∑–∞–≤–∂–¥–∏).

–ù–∏–∂—á–µ ‚Äî **–≥–æ—Ç–æ–≤–µ —Ä—ñ—à–µ–Ω–Ω—è ‚Äú–ø—ñ–¥ –∫–ª—é—á‚Äù**, –∑ —á—ñ—Ç–∫–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏.

---

# üß© –£–ù–Ü–í–ï–†–°–ê–õ–¨–ù–ò–ô DIALOG TEMPLATE –î–õ–Ø ORACLE APEX 24+

## üéØ –Ü–¥–µ—è —à–∞–±–ª–æ–Ω—É (–∫–æ—Ä–æ—Ç–∫–æ)

–ú–∏ **–ù–ï –ª–æ–≤–∏–º–æ Dialog Closed —É –≤–∫–ª–∞–¥–µ–Ω–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö**
–ú–∏ **–ø–µ—Ä–µ–¥–∞—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥—ñ–∞–ª–æ–≥—É** —ñ **—Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —Ä–µ–∞–≥—É—î–º–æ**

```
Dialog Page (–±—É–¥—å-—è–∫–∞)
   ‚Üì result
–ë–∞—Ç—å–∫—ñ–≤—Å—å–∫–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ (Dialog / Main)
   ‚Üì custom event
–í–∫–ª–∞–¥–µ–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ / iframe / regions
```

---

## 1Ô∏è‚É£ –ì–ª–æ–±–∞–ª—å–Ω–∞ –¥–æ–º–æ–≤–ª–µ–Ω—ñ—Å—Ç—å (–í–ê–ñ–õ–ò–í–û)

### üìå –û–¥–∏–Ω –≥–ª–æ–±–∞–ª—å–Ω–∏–π item

–ù–∞ **Global Page (0)**:

```
P0_DIALOG_RESULT   (Hidden)
```

> –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –¥—ñ–∞–ª–æ–≥—É

---

## 2Ô∏è‚É£ –®–∞–±–ª–æ–Ω –ó–ê–ö–†–ò–¢–¢–Ø –±—É–¥—å-—è–∫–æ–≥–æ –¥—ñ–∞–ª–æ–≥—É

### üîπ PL/SQL (—É –ø—Ä–æ—Ü–µ—Å—ñ –¥—ñ–∞–ª–æ–≥—É)

```plsql
apex_util.set_session_state(
  'P0_DIALOG_RESULT',
  'SIGN_BY_DONE' -- –±—É–¥—å-—è–∫–∏–π –∫–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
);

apex_navigation.close_dialog;
```

### üîπ –∞–±–æ JS (—è–∫—â–æ –ª–æ–≥—ñ–∫–∞ –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ)

```js
apex.item('P0_DIALOG_RESULT').setValue('SIGN_BY_DONE');
apex.navigation.closeDialog();
```

---

## 3Ô∏è‚É£ –Ñ–î–ò–ù–ê Dynamic Action –Ω–∞ –ë–ê–¢–¨–ö–Ü–í–°–¨–ö–Ü–ô —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ

üëâ **–¶–µ –≥–æ–ª–æ–≤–Ω–µ –º—ñ—Å—Ü–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è**

### Dynamic Action

* **Event**: `Dialog Closed`
* **Selection Type**: Page
* **Condition (JS Expression)**:

```js
!!$v('P0_DIALOG_RESULT')
```

---

### True Action ‚Üí Execute JavaScript Code

```js
const result = $v('P0_DIALOG_RESULT');

// –û—á–∏—Å—Ç–∏—Ç–∏ –æ–¥—Ä–∞–∑—É, —â–æ–± –Ω–µ –±—É–ª–æ –ø–æ–≤—Ç–æ—Ä—ñ–≤
apex.item('P0_DIALOG_RESULT').setValue(null);

// –ì–ª–æ–±–∞–ª—å–Ω–∞ –ø–æ–¥—ñ—è –¥–ª—è –≤—Å—å–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
apex.event.trigger(document, 'apex-dialog-result', {
  result: result
});
```

üìå **–¶–µ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π dispatcher**

---

## 4Ô∏è‚É£ –†–µ–∞–∫—Ü—ñ—è –±—É–¥—å-—è–∫–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏ / iframe / region

### üîπ JS (page 5, –∞–±–æ –±—É–¥—å-–¥–µ)

```js
document.addEventListener('apex-dialog-result', function (e) {
  if (e.detail.result === 'SIGN_BY_DONE') {
    apex.region('MARKS_REGION').refresh();
  }
});
```

‚úîÔ∏è –ü—Ä–∞—Ü—é—î **–Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ iframe**
‚úîÔ∏è –ü—Ä–∞—Ü—é—î **–≤ APEX 22, 23, 24**
‚úîÔ∏è –ü—Ä–∞—Ü—é—î **–≤–∫–ª–∞–¥–µ–Ω–æ —Å–∫—ñ–ª—å–∫–∏ –∑–∞–≤–≥–æ–¥–Ω–æ —Ä—ñ–≤–Ω—ñ–≤**

---

## 5Ô∏è‚É£ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ RESULT-–∫–æ–¥–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é)

–©–æ–± –Ω–µ –±—É–ª–æ —Ö–∞–æ—Å—É üëá

| Result Code    | –ó–Ω–∞—á–µ–Ω–Ω—è           |
| -------------- | ------------------ |
| `CREATED`      | –°—Ç–≤–æ—Ä–µ–Ω–æ           |
| `UPDATED`      | –û–Ω–æ–≤–ª–µ–Ω–æ           |
| `DELETED`      | –í–∏–¥–∞–ª–µ–Ω–æ           |
| `SIGN_DONE`    | –ü—ñ–¥–ø–∏—Å             |
| `SIGN_BY_DONE` | –ü—ñ–¥–ø–∏—Å ¬´–≤—ñ–¥ —ñ–º–µ–Ω—ñ¬ª |
| `CANCELLED`    | –°–∫–∞—Å–æ–≤–∞–Ω–æ          |
| `REFRESH_ONLY` | –ü—Ä–æ—Å—Ç–æ refresh     |

---

## 6Ô∏è‚É£ –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –¥—ñ–∞–ª–æ–≥—É (–°–¢–ê–ù–î–ê–†–¢)

‚ùó **–ù–ï redirect**

### AJAX Process

```plsql
l_url := apex_page.get_url(
  p_page   => 2,
  p_items  => 'P2_TASK_ID,P2_TASK_MODE,P2_SIGNATURE_ID',
  p_values => apex_application.g_x01 || ',' ||
              apex_application.g_x02 || ',' ||
              apex_application.g_x03,
  p_request => 'DIALOG'
);

htp.p(l_url);
```

### JS

```js
apex.navigation.dialog(Data.url, {
  title: '–í—ñ–¥ —ñ–º–µ–Ω—ñ',
  modal: true,
  height: 'auto',
  width: 800
});
```

‚úîÔ∏è –ö–æ–Ω—Ç–µ–∫—Å—Ç –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è
‚úîÔ∏è CloseDialog –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ
‚úîÔ∏è –ë–∞—Ç—å–∫—ñ–≤—Å—å–∫–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –Ω–µ –∑–∞–∫—Ä–∏–≤–∞—î—Ç—å—Å—è

---

## 7Ô∏è‚É£ (–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π JS helper

–ú–æ–∂–µ—à –≤–∏–Ω–µ—Å—Ç–∏ –≤ **Global Page ‚Üí Execute on Page Load**

```js
window.AppDialog = {
  close: function (result) {
    apex.item('P0_DIALOG_RESULT').setValue(result);
    apex.navigation.closeDialog();
  }
};
```

–¢–æ–¥—ñ —É –≤—Å—ñ—Ö –¥—ñ–∞–ª–æ–≥–∞—Ö:

```js
AppDialog.close('SIGN_BY_DONE');
```

üî• –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–∏—Å—Ç–æ

---

## 8Ô∏è‚É£ –©–æ —Ç–∏ –æ—Ç—Ä–∏–º—É—î—à

‚úÖ –û–¥–∏–Ω —à–∞–±–ª–æ–Ω –¥–ª—è –≤—Å—ñ—Ö –¥—ñ–∞–ª–æ–≥—ñ–≤
‚úÖ –ù—ñ—è–∫–∏—Ö iframe-–ø—Ä–æ–±–ª–µ–º
‚úÖ –ü–æ–≤–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∑ APEX 24
‚úÖ –õ–µ–≥–∫–æ —Ä–æ–∑—à–∏—Ä—é—î—Ç—å—Å—è
‚úÖ –õ–æ–≥—ñ–∫–∞ –∑—ñ–±—Ä–∞–Ω–∞ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ
‚úÖ –í–∫–ª–∞–¥–µ–Ω—ñ –¥—ñ–∞–ª–æ–≥–∏ ‚Äî –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞

---

## 9Ô∏è‚É£ –•–æ—á–µ—à ‚Äî –Ω–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

–Ø –º–æ–∂—É:

* üîß –∞–¥–∞–ø—Ç—É–≤–∞—Ç–∏ —à–∞–±–ª–æ–Ω **–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –ø—ñ–¥ —Ç–≤—ñ–π –∫–µ–π—Å (5‚Äì6‚Äì2)**
* üì¶ –∑—Ä–æ–±–∏—Ç–∏ **ready-to-copy DA + JS** –¥–ª—è Global Page
* üß† –∑–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ **dialog-result registry** (map handler‚Äô—ñ–≤)
* üß™ –¥–æ–¥–∞—Ç–∏ **–ª–æ–≥—É–≤–∞–Ω–Ω—è dialog lifecycle**

–°–∫–∞–∂–∏, —â–æ –±–µ—Ä–µ–º–æ –¥–∞–ª—ñ ‚Äî –ø—ñ–¥–ª–∞—à—Ç—É—î–º–æ –ø—ñ–¥ —Ç–≤—ñ–π –ø—Ä–æ—î–∫—Ç üí™
