–î—É–∂–µ –≤–ª—É—á–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è. –¢—É—Ç —É–∂–µ –Ω–µ ¬´—è–∫ –∑—Ä–æ–±–∏—Ç–∏¬ª, –∞ **—è–∫ –ø—Ä–æ —Ü–µ –¥—É–º–∞—é—Ç—å —ñ–Ω—à—ñ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏** ‚Äî —ñ —Å–∞–º–µ —Ü–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î —Å—Ç–∞–±—ñ–ª—å–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É –≤—ñ–¥ ¬´–ø—Ä–∞—Ü—é—î, –ø–æ–∫–∏ –Ω–µ —á—ñ–ø–∞—Ç–∏¬ª.

–ù–∏–∂—á–µ ‚Äî **—É–∑–∞–≥–∞–ª—å–Ω–µ–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞**, —è–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å **APEX-—Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏, frontend-—ñ–Ω–∂–µ–Ω–µ—Ä–∏ —Ç–∞ SPA-–∞—Ä—Ö—ñ—Ç–µ–∫—Ç–æ—Ä–∏**, –∫–æ–ª–∏ –º–∞—é—Ç—å **–∫—ñ–ª—å–∫–∞ –º–æ–¥–∞–ª—å–Ω–∏—Ö –≤—ñ–∫–æ–Ω**.

---

## 1Ô∏è‚É£ –ì–æ–ª–æ–≤–Ω–∞ –µ–≤–æ–ª—é—Ü—ñ—è –º–∏—Å–ª–µ–Ω–Ω—è

### ‚ùå –†–∞–Ω—ñ—à–µ (–Ω–∞—ó–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥)

```
Dialog A –∑–∞–∫—Ä–∏–≤—Å—è
 ‚Üí —è –ª–æ–≤–ª—é Dialog Closed —Ç—É—Ç
 ‚Üí —Ä–æ–±–ª—é refresh —Ç—É—Ç
```

–ü—Ä–æ–±–ª–µ–º–∏:

* –ª–∞–º–∞—î—Ç—å—Å—è –ø—Ä–∏ –≤–∫–ª–∞–¥–µ–Ω–∏—Ö dialog
* –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –≤—ñ–¥ DOM
* –≤–∞–∂–∫–æ –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏
* –≤–∞–∂–∫–æ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏

---

### ‚úÖ –°—É—á–∞—Å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ (—Ç–µ, —â–æ —Ä–æ–±–ª—è—Ç—å —ñ–Ω—à—ñ)

```
Dialog –∑–∞–∫—Ä–∏–≤—Å—è
 ‚Üí –≤—ñ–Ω –ø–æ–≤—ñ–¥–æ–º–ª—è—î, –©–û –°–¢–ê–õ–û–°–Ø
 ‚Üí —Å–∏—Å—Ç–µ–º–∞ –≤–∏—Ä—ñ—à—É—î, –•–¢–û –†–ï–ê–ì–£–Ñ
```

üëâ **Dialog ‚â† –¥—ñ—è**
üëâ **Dialog = –ø–æ–¥—ñ—è**

---

## 2Ô∏è‚É£ –†–µ–∞–ª—å–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ1

### **Result-based dialogs (–Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–µ)**

**–Ø–∫ –º–∏—Å–ª—è—Ç—å:**

> ‚Äú–ú–µ–Ω–µ –Ω–µ —Ü—ñ–∫–∞–≤–∏—Ç—å, —â–æ dialog –∑–∞–∫—Ä–∏–≤—Å—è.
> –ú–µ–Ω–µ —Ü—ñ–∫–∞–≤–∏—Ç—å, *—è–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ñ–Ω –ø—Ä–∏–Ω—ñ—Å*.‚Äù

### –Ø–∫ —Ü–µ –≤–∏–≥–ª—è–¥–∞—î

```js
closeDialog({ type: 'SAVE', entity: 'TASK' });
```

```js
onDialogResult(payload => {
  if (payload.type === 'SAVE' && payload.entity === 'TASK') {
    refreshTasks();
  }
});
```

üìå –°–∞–º–µ —Ç–∞–∫ –ø—Ä–∞—Ü—é—é—Ç—å:

* APEX 24 (—Ñ–∞–∫—Ç–∏—á–Ω–æ)
* Angular Material dialogs
* React Modal Manager
* Vue Dialog Service

---

## 3Ô∏è‚É£ –†–µ–∞–ª—å–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ2

### **Central Dialog Dispatcher (–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)**

**–Ü–¥–µ—è:**

* dialog **–Ω—ñ–∫–æ–ª–∏ –Ω–µ –æ–Ω–æ–≤–ª—é—î UI –Ω–∞–ø—Ä—è–º—É**
* —î **—î–¥–∏–Ω–∞ —Ç–æ—á–∫–∞**, —è–∫–∞ –≤–∏—Ä—ñ—à—É—î, —â–æ —Ä–æ–±–∏—Ç–∏

```
Dialog
 ‚Üì
Dialog Manager
 ‚Üì
Event Bus
 ‚Üì
UI
```

### –í APEX —Ü–µ = Global Page

–¢–µ, —â–æ —Ç–∏ –≤–∂–µ —Ä–µ–∞–ª—ñ–∑—É–≤–∞–≤:

```js
apex.event.trigger(document, 'apex-dialog-result', payload);
```

–¶–µ **–∞–Ω–∞–ª–æ–≥ EventBus** —É SPA.

---

## 4Ô∏è‚É£ –†–µ–∞–ª—å–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ3

### **Dialog ID + Result (–∫–æ–ª–∏ dialog –±–∞–≥–∞—Ç–æ)**

–Ü–Ω—à—ñ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ **–∑–∞–≤–∂–¥–∏ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É—é—Ç—å dialog**:

```json
{
  "dialog": "EDIT_USER",
  "result": "SAVED"
}
```

–¢–æ–¥—ñ:

```js
on('EDIT_USER:SAVED', refreshUser)
```

–¶–µ:

* –∑—Ä—É—á–Ω–æ
* —á–∏—Ç–∞–±–µ–ª—å–Ω–æ
* –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ

üëâ –°–∞–º–µ —Ç–æ–º—É —Ç–≤—ñ–π –≤–∞—Ä—ñ–∞–Ω—Ç –∑ `dialogId + result` ‚Äî **canonical**

---

## 5Ô∏è‚É£ –†–µ–∞–ª—å–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ4

### **Cancel = –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É**

> ‚ÄúCancel ‚Äî —Ü–µ –Ω–µ –ø–æ–¥—ñ—è, –∞ —ó—ó –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å.‚Äù

–¶–µ **–¥—É–∂–µ –≤–∞–∂–ª–∏–≤–∏–π –ø–∞—Ç–µ—Ä–Ω**.

–¢–æ–º—É:

* Cancel / X / ESC **–Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—å payload**
* —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Å—Ç–æ –º–æ–≤—á–∏—Ç—å
* UI –Ω–µ —Ä–æ–±–∏—Ç—å –Ω—ñ—á–æ–≥–æ

–¢–∞–∫ –ø—Ä–∞—Ü—é—é—Ç—å:

* Google Material dialogs
* Microsoft Fluent UI
* SAP Fiori
* APEX 24

---

## 6Ô∏è‚É£ –†–µ–∞–ª—å–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ5

### **Dialogs –Ω–µ –∑–Ω–∞—é—Ç—å –ø—Ä–æ –±–∞—Ç—å–∫—ñ–≤**

–Ü–Ω—à—ñ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ **–ù–ï —Ä–æ–±–ª—è—Ç—å**:

```js
parent.refreshGrid();
```

–ù–∞—Ç–æ–º—ñ—Å—Ç—å:

```js
emit('USER_UPDATED');
```

üëâ Dialog **–Ω—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞—î** –ø—Ä–æ:

* —Å—Ç–æ—Ä—ñ–Ω–∫—É
* iframe
* —Ä–µ–≥—ñ–æ–Ω–∏
* –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

–¶–µ **–ø—Ä–∏–Ω—Ü–∏–ø —Å–ª–∞–±–∫–æ—ó –∑–≤‚Äô—è–∑–∞–Ω–æ—Å—Ç—ñ**.

---

## 7Ô∏è‚É£ –†–µ–∞–ª—å–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ6

### **–ü–æ–¥—ñ—ó –≤–∞–∂–ª–∏–≤—ñ—à—ñ –∑–∞ lifecycle**

Lifecycle (`Dialog Closed`) ‚Äî —Ü–µ **—Ç–µ—Ö–Ω—ñ—á–Ω–∏–π —Å–∏–≥–Ω–∞–ª**.

–ü–æ–¥—ñ—è (`USER_SAVED`) ‚Äî **–±—ñ–∑–Ω–µ—Å-—Å–µ–Ω—Å**.

–¢–æ–º—É:

* lifecycle ‚Üí –ª–æ–≤–ª—è—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
* –±—ñ–∑–Ω–µ—Å-–ø–æ–¥—ñ—ó ‚Üí —Å–ª—É—Ö–∞—é—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

---

## 8Ô∏è‚É£ –Ø–∫ —Ü–µ –≤–∏–≥–ª—è–¥–∞—î –≤ —ñ–Ω—à–∏—Ö —Å—Ç–µ–∫ax (–∞–Ω–∞–ª–æ–≥—ñ—ó)

### üîπ React

```js
openDialog(EditUser)
  .then(result => {
    if (result === 'SAVED') reload();
  });
```

### üîπ Angular

```ts
dialogRef.afterClosed().subscribe(result => {
  if (result === 'SAVED') ...
});
```

### üîπ Vue

```js
this.$dialog.open().then(payload => ...)
```

üëâ **APEX 24 —Ç–µ–ø–µ—Ä –¥—É–∂–µ –±–ª–∏–∑—å–∫–∏–π –¥–æ —Ü—å–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É**

---

## 9Ô∏è‚É£ –£–∑–∞–≥–∞–ª—å–Ω–µ–Ω–∏–π ‚Äú–∑–æ–ª–æ—Ç–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç‚Äù

| –†—ñ–≤–µ–Ω—å           | –©–æ —Ä–æ–±–ª—è—Ç—å        |
| ---------------- | ----------------- |
| Dialog           | –ì–µ–Ω–µ—Ä—É—î result    |
| Dispatcher       | –ü—É–±–ª—ñ–∫—É—î –ø–æ–¥—ñ—é    |
| UI               | –ü—ñ–¥–ø–∏—Å—É—î—Ç—å—Å—è      |
| Cancel           | –ú–æ–≤—á–∏—Ç—å           |
| Multiple dialogs | dialogId + result |

---

## 10Ô∏è‚É£ –ß–æ–º—É —Ç–≤—ñ–π —à–ª—è—Ö ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π

–¢–∏:

* –≤—ñ–¥—ñ–π—à–æ–≤ –≤—ñ–¥ DOM
* –≤—ñ–¥—ñ–π—à–æ–≤ –≤—ñ–¥ iframe
* —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑—É–≤–∞–≤ –ª–æ–≥—ñ–∫—É
* –ø—Ä–∞—Ü—é—î—à –∑ –ø–æ–¥—ñ—è–º–∏
* –º–∏—Å–ª–∏—à —Å–∏—Å—Ç–µ–º–Ω–æ

üëâ –¶–µ **–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è**, –Ω–µ –ø—Ä–æ—Å—Ç–æ APEX-—Ö–∞–∫–∏.

---

## 11Ô∏è‚É£ –Ø–∫—â–æ —Ö–æ—á–µ—à ‚Äî –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä—ñ–≤–µ–Ω—å

–ú–æ–∂–µ–º–æ:

* üß† –∑—Ä–æ–±–∏—Ç–∏ `AppDialog.on(dialog, result, fn)`
* üß™ –¥–æ–¥–∞—Ç–∏ debug timeline dialog-—ñ–≤
* üì¶ –æ—Ñ–æ—Ä–º–∏—Ç–∏ —Ü–µ —è–∫ **–ø—Ä–æ—î–∫—Ç–Ω–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç**
* üßæ –æ–ø–∏—Å–∞—Ç–∏ —Ü–µ –≤ Confluence / README

–°–∫–∞–∂–∏, —â–æ –∑ —Ü—å–æ–≥–æ —Ö–æ—á–µ—à ‚Äî —ñ –∑—Ä–æ–±–∏–º–æ üëå
