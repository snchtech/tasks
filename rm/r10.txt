–¢—É—Ç —è–∫—Ä–∞–∑ —Ç–æ–π —Å–∞–º–∏–π –ø—ñ–¥—Ö—ñ–¥, —â–æ –π —É `COUNT_ZORO_START_ON_SHIFT`:

* **–±–µ—Ä–µ–º–æ —Ç—ñ–ª—å–∫–∏ "–¥–æ–∑–≤–æ–ª–µ–Ω—ñ"** (`ORDER_STATUS_ID = 3`),
* —ñ –∑ –Ω–∏—Ö —Ç—ñ, —â–æ:

  * **–∞–±–æ** –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –≤ –º–µ–∂–∞—Ö –ø–æ—Ç–æ—á–Ω–æ—ó –∑–º—ñ–Ω–∏,
  * **–∞–±–æ** –º–∞–ª–∏ –ø–æ—á–∞—Ç–∏—Å—è **—Ä–∞–Ω—ñ—à–µ –ø–æ—á–∞—Ç–∫—É –∑–º—ñ–Ω–∏**, –∞–ª–µ —â–µ –Ω–µ –≤—ñ–¥–∫—Ä–∏—Ç—ñ (—Ç–æ–±—Ç–æ –≤—Å–µ —â–µ "–¥–æ–∑–≤–æ–ª–µ–Ω—ñ").

–Ø–∫—â–æ `SHIFT_START` / `SHIFT_END` —Ç–∏ –≤–∂–µ –¥–µ—Å—å –ø–æ—Ä–∞—Ö—É–≤–∞–≤ (—É PL/SQL –∞–±–æ —è–∫ –∫–æ–ª–æ–Ω–∫–∏/–ø–∞—Ä–∞–º–µ—Ç—Ä–∏), —Ç–æ –∑–∞–ø–∏—Ç –º–∞—î –≤–∏–≥–ª—è–¥–∞—Ç–∏ —Ç–∞–∫:

```sql
SELECT SOURCE_ID
FROM TW.ASICS_ZORO_INFO_VIEW tw
WHERE tw.ORDER_STATUS_ID = 3  -- —Ç—ñ–ª—å–∫–∏ "–¥–æ–∑–≤–æ–ª–µ–Ω—ñ"
  AND (
        -- 1) –ø–æ—á–∞—Ç–æ–∫ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –ø–æ—Ç–æ—á–Ω–æ—ó –∑–º—ñ–Ω–∏
        (tw.ORDERSTART BETWEEN :SHIFT_START AND :SHIFT_END)
        -- 2) –∞–±–æ –ø–æ—á–∞—Ç–æ–∫ —Ä–∞–Ω—ñ—à–µ, –Ω—ñ–∂ –ø–æ—á–∞—Ç–æ–∫ –∑–º—ñ–Ω–∏ (–∑–∞–≤–∏—Å–ª–∞, —â–µ –Ω–µ –≤—ñ–¥–∫—Ä–∏—Ç–∞)
     OR (tw.ORDERSTART < :SHIFT_START)
      );
```

üîπ –Ø–∫—â–æ `SHIFT_START` / `SHIFT_END` —É —Ç–µ–±–µ —Å–∞–º–µ —è–∫ –∫–æ–ª–æ–Ω–∫–∏ —É view ‚Äî –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏–±–µ—Ä–∏ –¥–≤–æ–∫—Ä–∞–ø–∫–∏:

```sql
SELECT SOURCE_ID
FROM TW.ASICS_ZORO_INFO_VIEW tw
WHERE tw.ORDER_STATUS_ID = 3
  AND (
        (tw.ORDERSTART BETWEEN tw.SHIFT_START AND tw.SHIFT_END)
     OR (tw.ORDERSTART < tw.SHIFT_START)
      );
```

–¶–µ –≤–∂–µ 1-–≤-1 –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ª–æ–≥—ñ—Ü—ñ, —è–∫—É –º–∏ –∑–∞–∫–ª–∞–¥–∞–ª–∏ –≤ `start_consist` —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ—é `COUNT_ZORO_START_ON_SHIFT`.
